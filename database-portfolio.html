<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SQL Database Portfolio ‚Äî ShopVerse E-Commerce DB</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600;700&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0e17;
    --surface: #111827;
    --surface2: #1a2332;
    --border: #1e2d45;
    --accent-mysql: #f59e0b;
    --accent-pg: #3b82f6;
    --accent-oracle: #ef4444;
    --accent-nosql: #10b981;
    --accent-erd: #a855f7;
    --text: #e2e8f0;
    --text-dim: #64748b;
    --text-mid: #94a3b8;
    --keyword: #f472b6;
    --string: #86efac;
    --number: #fb923c;
    --comment: #475569;
    --fn: #60a5fa;
    --table-header: #1e2d45;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Syne', sans-serif;
    line-height: 1.6;
    min-height: 100vh;
  }

  /* HERO */
  .hero {
    background: linear-gradient(135deg, #0a0e17 0%, #0d1b2e 50%, #0a0e17 100%);
    border-bottom: 1px solid var(--border);
    padding: 80px 40px 60px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .hero::before {
    content: '';
    position: absolute;
    top: -50%;
    left: 50%;
    transform: translateX(-50%);
    width: 700px;
    height: 700px;
    background: radial-gradient(circle, rgba(59,130,246,0.07) 0%, transparent 70%);
    pointer-events: none;
  }
  .hero-tag {
    display: inline-block;
    background: rgba(168,85,247,0.15);
    border: 1px solid rgba(168,85,247,0.4);
    color: #c084fc;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    padding: 4px 14px;
    border-radius: 100px;
    letter-spacing: 0.1em;
    margin-bottom: 24px;
  }
  .hero h1 {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 800;
    line-height: 1.1;
    background: linear-gradient(135deg, #e2e8f0 30%, #64748b 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 16px;
  }
  .hero h1 span {
    background: linear-gradient(135deg, #3b82f6, #a855f7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .hero-sub {
    color: var(--text-mid);
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto 40px;
    font-weight: 400;
  }

  .badge-row {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }
  .badge {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 18px;
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    font-weight: 600;
    border: 1px solid;
  }
  .badge.mysql { background: rgba(245,158,11,0.1); border-color: rgba(245,158,11,0.3); color: var(--accent-mysql); }
  .badge.pg { background: rgba(59,130,246,0.1); border-color: rgba(59,130,246,0.3); color: var(--accent-pg); }
  .badge.oracle { background: rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.3); color: var(--accent-oracle); }
  .badge.nosql { background: rgba(16,185,129,0.1); border-color: rgba(16,185,129,0.3); color: var(--accent-nosql); }

  /* NAV */
  .nav {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(10,14,23,0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border);
    padding: 0 40px;
    overflow-x: auto;
  }
  .nav-inner {
    display: flex;
    gap: 0;
    max-width: 1400px;
    margin: 0 auto;
    white-space: nowrap;
  }
  .nav a {
    display: inline-block;
    padding: 16px 20px;
    color: var(--text-mid);
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
  }
  .nav a:hover { color: var(--text); }
  .nav a.mysql:hover { border-color: var(--accent-mysql); color: var(--accent-mysql); }
  .nav a.pg:hover { border-color: var(--accent-pg); color: var(--accent-pg); }
  .nav a.oracle:hover { border-color: var(--accent-oracle); color: var(--accent-oracle); }
  .nav a.nosql:hover { border-color: var(--accent-nosql); color: var(--accent-nosql); }
  .nav a.erd:hover { border-color: var(--accent-erd); color: var(--accent-erd); }

  /* LAYOUT */
  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 60px 40px;
  }

  .section {
    margin-bottom: 80px;
  }

  .section-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 32px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border);
  }
  .section-icon {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    flex-shrink: 0;
  }
  .section-icon.mysql { background: rgba(245,158,11,0.15); border: 1px solid rgba(245,158,11,0.3); }
  .section-icon.pg { background: rgba(59,130,246,0.15); border: 1px solid rgba(59,130,246,0.3); }
  .section-icon.oracle { background: rgba(239,68,68,0.15); border: 1px solid rgba(239,68,68,0.3); }
  .section-icon.nosql { background: rgba(16,185,129,0.15); border: 1px solid rgba(16,185,129,0.3); }
  .section-icon.erd { background: rgba(168,85,247,0.15); border: 1px solid rgba(168,85,247,0.3); }
  .section-icon.data { background: rgba(99,102,241,0.15); border: 1px solid rgba(99,102,241,0.3); }

  .section-title {
    font-size: 1.6rem;
    font-weight: 800;
  }
  .section-title small {
    display: block;
    font-size: 0.85rem;
    color: var(--text-dim);
    font-weight: 400;
    margin-top: 2px;
    font-family: 'JetBrains Mono', monospace;
  }

  /* ERD */
  .erd-container {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 40px;
    overflow-x: auto;
  }

  svg.erd { width: 100%; min-width: 900px; height: 600px; }

  /* QUERY BLOCKS */
  .query-block {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
    margin-bottom: 32px;
  }

  .query-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 24px;
    border-bottom: 1px solid var(--border);
  }
  .query-title {
    font-size: 1rem;
    font-weight: 700;
  }
  .query-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    padding: 3px 10px;
    border-radius: 6px;
    font-weight: 600;
    letter-spacing: 0.08em;
  }
  .query-label.mysql { background: rgba(245,158,11,0.15); color: var(--accent-mysql); }
  .query-label.pg { background: rgba(59,130,246,0.15); color: var(--accent-pg); }
  .query-label.oracle { background: rgba(239,68,68,0.15); color: var(--accent-oracle); }
  .query-label.nosql { background: rgba(16,185,129,0.15); color: var(--accent-nosql); }

  .query-desc {
    padding: 14px 24px;
    font-size: 0.9rem;
    color: var(--text-mid);
    background: rgba(255,255,255,0.02);
    border-bottom: 1px solid var(--border);
    line-height: 1.6;
  }

  pre.code-block {
    padding: 24px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    line-height: 1.8;
    overflow-x: auto;
    tab-size: 2;
    background: #080c14;
    border-bottom: 1px solid var(--border);
  }

  /* Syntax highlighting */
  .kw { color: #f472b6; font-weight: 600; }
  .fn { color: #60a5fa; }
  .str { color: #86efac; }
  .num { color: #fb923c; }
  .cmt { color: #475569; font-style: italic; }
  .tbl { color: #e2e8f0; }
  .col { color: #c4b5fd; }
  .op { color: #94a3b8; }

  /* RESULT TABLES */
  .result-wrap {
    padding: 20px 24px;
  }
  .result-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    color: var(--text-dim);
    margin-bottom: 12px;
    letter-spacing: 0.08em;
  }
  .result-label span {
    background: rgba(255,255,255,0.05);
    padding: 2px 8px;
    border-radius: 4px;
  }

  .result-table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.82rem;
    overflow: hidden;
    border-radius: 10px;
    overflow: hidden;
  }
  .result-table thead tr {
    background: var(--table-header);
  }
  .result-table th {
    padding: 10px 16px;
    text-align: left;
    color: var(--text-mid);
    font-weight: 600;
    font-size: 0.75rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    border-bottom: 1px solid var(--border);
  }
  .result-table td {
    padding: 10px 16px;
    border-bottom: 1px solid rgba(30,45,69,0.5);
    color: var(--text);
  }
  .result-table tbody tr:last-child td { border-bottom: none; }
  .result-table tbody tr:hover { background: rgba(255,255,255,0.03); }
  .result-table tbody tr:nth-child(even) { background: rgba(255,255,255,0.015); }

  td.num-val { color: var(--number); }
  td.str-val { color: var(--string); }
  td.hi { color: #f472b6; font-weight: 600; }

  /* DATA SECTION TABLES */
  .data-tables-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }
  @media (max-width: 900px) {
    .data-tables-grid { grid-template-columns: 1fr; }
  }

  .data-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
  }
  .data-card-header {
    padding: 14px 20px;
    background: var(--surface2);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .data-card-header .tname {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    font-weight: 700;
    color: #c4b5fd;
  }
  .data-card-header .rcount {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    color: var(--text-dim);
    background: rgba(255,255,255,0.05);
    padding: 2px 8px;
    border-radius: 4px;
  }
  .data-card .scroll-wrap {
    overflow-x: auto;
    max-height: 280px;
    overflow-y: auto;
  }

  /* DIVIDER */
  .lang-divider {
    display: flex;
    align-items: center;
    gap: 20px;
    margin: 60px 0 40px;
  }
  .lang-divider-line {
    flex: 1;
    height: 1px;
    background: var(--border);
  }
  .lang-divider-title {
    font-size: 1.8rem;
    font-weight: 800;
    white-space: nowrap;
  }
  .lang-divider-title.mysql { color: var(--accent-mysql); }
  .lang-divider-title.pg { color: var(--accent-pg); }
  .lang-divider-title.oracle { color: var(--accent-oracle); }
  .lang-divider-title.nosql { color: var(--accent-nosql); }

  .lang-meta {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px 28px;
    margin-bottom: 32px;
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 20px;
    align-items: center;
  }
  .lang-meta-icon {
    font-size: 2.5rem;
  }
  .lang-meta-text h3 {
    font-size: 1.1rem;
    margin-bottom: 4px;
  }
  .lang-meta-text p {
    color: var(--text-mid);
    font-size: 0.9rem;
  }

  /* SCHEMA */
  .schema-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
  }
  .schema-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
  }
  .schema-card-head {
    background: var(--surface2);
    padding: 12px 18px;
    border-bottom: 1px solid var(--border);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.95rem;
    font-weight: 700;
    color: #c4b5fd;
  }
  .schema-card table {
    width: 100%;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
  }
  .schema-card table td {
    padding: 8px 18px;
    border-bottom: 1px solid rgba(30,45,69,0.5);
  }
  .schema-card table td:first-child { color: #e2e8f0; }
  .schema-card table td:nth-child(2) { color: var(--accent-pg); }
  .schema-card table td:last-child { color: var(--text-dim); font-size: 0.72rem; }
  .schema-card table tr:last-child td { border-bottom: none; }
  .pk-badge {
    background: rgba(245,158,11,0.15);
    color: var(--accent-mysql);
    padding: 1px 6px;
    border-radius: 4px;
    font-size: 0.65rem;
    font-weight: 700;
  }
  .fk-badge {
    background: rgba(59,130,246,0.15);
    color: var(--accent-pg);
    padding: 1px 6px;
    border-radius: 4px;
    font-size: 0.65rem;
    font-weight: 700;
  }
  .nn-badge {
    background: rgba(239,68,68,0.1);
    color: #fca5a5;
    padding: 1px 6px;
    border-radius: 4px;
    font-size: 0.65rem;
  }

  /* FOOTER */
  .footer {
    border-top: 1px solid var(--border);
    padding: 40px;
    text-align: center;
    color: var(--text-dim);
    font-size: 0.85rem;
  }
  .footer strong { color: var(--text-mid); }

  .tip-box {
    background: rgba(168,85,247,0.07);
    border: 1px solid rgba(168,85,247,0.25);
    border-radius: 10px;
    padding: 14px 20px;
    font-size: 0.88rem;
    color: #c4b5fd;
    margin-bottom: 24px;
    display: flex;
    gap: 10px;
    align-items: flex-start;
  }
  .tip-box .tip-icon { flex-shrink: 0; font-size: 1rem; }

  .toc-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
    margin-bottom: 40px;
  }
  .toc-item {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 14px 18px;
    text-decoration: none;
    color: var(--text-mid);
    font-size: 0.85rem;
    font-weight: 600;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .toc-item:hover {
    border-color: #3b82f6;
    color: var(--text);
    background: rgba(59,130,246,0.07);
  }
</style>
</head>
<body>

<!-- HERO -->
<div class="hero">
  <div class="hero-tag">üì¶ Portfolio Project ¬∑ Database Systems</div>
  <h1>ShopVerse<br><span>E-Commerce Database</span></h1>
  <p class="hero-sub">A comprehensive relational database with real-world queries across MySQL, PostgreSQL, Oracle PL/SQL, and MongoDB (NoSQL)</p>
  <div class="badge-row">
    <span class="badge mysql">üê¨ MySQL 8.0</span>
    <span class="badge pg">üêò PostgreSQL 15</span>
    <span class="badge oracle">üî¥ Oracle PL/SQL 19c</span>
    <span class="badge nosql">üçÉ MongoDB 7.0</span>
  </div>
</div>

<!-- NAV -->
<nav class="nav">
  <div class="nav-inner">
    <a href="#overview" class="erd">Overview</a>
    <a href="#schema" class="erd">Schema</a>
    <a href="#erd" class="erd">ERD Diagram</a>
    <a href="#sampledata" class="erd">Sample Data</a>
    <a href="#mysql" class="mysql">MySQL</a>
    <a href="#postgresql" class="pg">PostgreSQL</a>
    <a href="#oracle" class="oracle">Oracle PL/SQL</a>
    <a href="#nosql" class="nosql">MongoDB</a>
  </div>
</nav>

<div class="container">

  <!-- OVERVIEW -->
  <section class="section" id="overview">
    <div class="section-header">
      <div class="section-icon erd">üìã</div>
      <div class="section-title">Project Overview <small>// shopverse_db</small></div>
    </div>

    <div class="tip-box">
      <span class="tip-icon">üí°</span>
      <div><strong>ShopVerse</strong> is a fictional e-commerce platform database. It models customers, products, categories, orders, suppliers, employees, and reviews ‚Äî 8 tables with realistic relationships. All four SQL dialects query this same logical dataset, demonstrating how each language handles the same operations differently.</div>
    </div>

    <div class="toc-grid">
      <a href="#schema" class="toc-item">üìê Database Schema</a>
      <a href="#erd" class="toc-item">üîó ERD Diagram</a>
      <a href="#sampledata" class="toc-item">üìä Sample Data</a>
      <a href="#mysql" class="toc-item" style="color: var(--accent-mysql);">üê¨ MySQL Queries</a>
      <a href="#postgresql" class="toc-item" style="color: var(--accent-pg);">üêò PostgreSQL Queries</a>
      <a href="#oracle" class="toc-item" style="color: var(--accent-oracle);">üî¥ Oracle PL/SQL</a>
      <a href="#nosql" class="toc-item" style="color: var(--accent-nosql);">üçÉ MongoDB Queries</a>
    </div>
  </section>

  <!-- SCHEMA -->
  <section class="section" id="schema">
    <div class="section-header">
      <div class="section-icon data">üìê</div>
      <div class="section-title">Database Schema <small>// 8 tables ¬∑ relational model</small></div>
    </div>

    <div class="schema-grid">

      <div class="schema-card">
        <div class="schema-card-head">customers</div>
        <table>
          <tr><td>customer_id</td><td>INT</td><td><span class="pk-badge">PK</span> <span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>first_name</td><td>VARCHAR(50)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>last_name</td><td>VARCHAR(50)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>email</td><td>VARCHAR(100)</td><td>UNIQUE</td></tr>
          <tr><td>phone</td><td>VARCHAR(20)</td><td></td></tr>
          <tr><td>city</td><td>VARCHAR(60)</td><td></td></tr>
          <tr><td>country</td><td>VARCHAR(60)</td><td></td></tr>
          <tr><td>created_at</td><td>DATETIME</td><td></td></tr>
          <tr><td>is_premium</td><td>BOOLEAN</td><td>DEFAULT 0</td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">categories</div>
        <table>
          <tr><td>category_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>name</td><td>VARCHAR(80)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>parent_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí categories</td></tr>
          <tr><td>description</td><td>TEXT</td><td></td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">suppliers</div>
        <table>
          <tr><td>supplier_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>name</td><td>VARCHAR(100)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>contact_email</td><td>VARCHAR(100)</td><td></td></tr>
          <tr><td>country</td><td>VARCHAR(60)</td><td></td></tr>
          <tr><td>rating</td><td>DECIMAL(2,1)</td><td></td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">products</div>
        <table>
          <tr><td>product_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>name</td><td>VARCHAR(120)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>category_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí categories</td></tr>
          <tr><td>supplier_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí suppliers</td></tr>
          <tr><td>price</td><td>DECIMAL(10,2)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>stock_qty</td><td>INT</td><td>DEFAULT 0</td></tr>
          <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT 1</td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">employees</div>
        <table>
          <tr><td>employee_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>first_name</td><td>VARCHAR(50)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>last_name</td><td>VARCHAR(50)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>role</td><td>VARCHAR(60)</td><td></td></tr>
          <tr><td>salary</td><td>DECIMAL(10,2)</td><td></td></tr>
          <tr><td>hire_date</td><td>DATE</td><td></td></tr>
          <tr><td>manager_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí employees</td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">orders</div>
        <table>
          <tr><td>order_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>customer_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí customers</td></tr>
          <tr><td>employee_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí employees</td></tr>
          <tr><td>order_date</td><td>DATETIME</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>status</td><td>ENUM</td><td>pending/shipped/delivered/cancelled</td></tr>
          <tr><td>shipping_country</td><td>VARCHAR(60)</td><td></td></tr>
          <tr><td>total_amount</td><td>DECIMAL(12,2)</td><td></td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">order_items</div>
        <table>
          <tr><td>item_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>order_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí orders</td></tr>
          <tr><td>product_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí products</td></tr>
          <tr><td>quantity</td><td>INT</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>unit_price</td><td>DECIMAL(10,2)</td><td><span class="nn-badge">NOT NULL</span></td></tr>
          <tr><td>discount_pct</td><td>DECIMAL(4,2)</td><td>DEFAULT 0</td></tr>
        </table>
      </div>

      <div class="schema-card">
        <div class="schema-card-head">reviews</div>
        <table>
          <tr><td>review_id</td><td>INT</td><td><span class="pk-badge">PK</span></td></tr>
          <tr><td>product_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí products</td></tr>
          <tr><td>customer_id</td><td>INT</td><td><span class="fk-badge">FK</span> ‚Üí customers</td></tr>
          <tr><td>rating</td><td>TINYINT</td><td>1‚Äì5</td></tr>
          <tr><td>review_text</td><td>TEXT</td><td></td></tr>
          <tr><td>reviewed_at</td><td>DATETIME</td><td></td></tr>
        </table>
      </div>

    </div>
  </section>

  <!-- ERD -->
  <section class="section" id="erd">
    <div class="section-header">
      <div class="section-icon erd">üîó</div>
      <div class="section-title">Entity Relationship Diagram <small>// shopverse_db relationships</small></div>
    </div>

    <div class="erd-container">
      <svg class="erd" viewBox="0 0 1100 620" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
            <path d="M0,0 L0,6 L8,3 z" fill="#3b82f6" opacity="0.7"/>
          </marker>
          <marker id="arrowg" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
            <path d="M0,0 L0,6 L8,3 z" fill="#10b981" opacity="0.7"/>
          </marker>
          <marker id="arrowo" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
            <path d="M0,0 L0,6 L8,3 z" fill="#f59e0b" opacity="0.6"/>
          </marker>
        </defs>

        <!-- RELATIONSHIPS LINES -->
        <!-- categories -> products -->
        <line x1="195" y1="165" x2="420" y2="160" stroke="#a855f7" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrow)"/>
        <!-- suppliers -> products -->
        <line x1="195" y1="310" x2="420" y2="190" stroke="#3b82f6" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrow)"/>
        <!-- products -> order_items -->
        <line x1="630" y1="175" x2="700" y2="295" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrowo)"/>
        <!-- orders -> order_items -->
        <line x1="780" y1="175" x2="760" y2="295" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrowo)"/>
        <!-- customers -> orders -->
        <line x1="630" y1="450" x2="700" y2="175" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrowg)"/>
        <!-- employees -> orders -->
        <line x1="900" y1="345" x2="850" y2="175" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrowg)"/>
        <!-- customers -> reviews -->
        <line x1="540" y1="490" x2="400" y2="490" stroke="#a855f7" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrow)"/>
        <!-- products -> reviews -->
        <line x1="490" y1="205" x2="360" y2="440" stroke="#a855f7" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.6" marker-end="url(#arrow)"/>
        <!-- categories self-ref -->
        <path d="M 100 90 Q 30 90 30 140 Q 30 175 100 175" stroke="#a855f7" stroke-width="1.5" stroke-dasharray="4,3" fill="none" opacity="0.5" marker-end="url(#arrow)"/>
        <!-- employees self-ref -->
        <path d="M 1000 295 Q 1070 295 1070 345 Q 1070 395 1000 395" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,3" fill="none" opacity="0.5" marker-end="url(#arrowg)"/>

        <!-- TABLES -->

        <!-- categories (top-left) -->
        <g transform="translate(60,90)">
          <rect width="175" height="110" rx="10" fill="#1a2332" stroke="#a855f7" stroke-width="1.5" opacity="0.9"/>
          <rect width="175" height="32" rx="10" fill="#a855f7" opacity="0.25"/>
          <rect y="22" width="175" height="10" fill="#a855f7" opacity="0.25"/>
          <text x="87" y="21" text-anchor="middle" fill="#c084fc" font-family="JetBrains Mono" font-size="12" font-weight="700">categories</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">category_id</text>
          <text x="10" y="68" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   name</text>
          <text x="10" y="84" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">FK parent_id</text>
          <text x="10" y="100" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   description</text>
        </g>

        <!-- suppliers (left-middle) -->
        <g transform="translate(60,250)">
          <rect width="175" height="120" rx="10" fill="#1a2332" stroke="#3b82f6" stroke-width="1.5" opacity="0.9"/>
          <rect width="175" height="32" rx="10" fill="#3b82f6" opacity="0.2"/>
          <rect y="22" width="175" height="10" fill="#3b82f6" opacity="0.2"/>
          <text x="87" y="21" text-anchor="middle" fill="#60a5fa" font-family="JetBrains Mono" font-size="12" font-weight="700">suppliers</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">supplier_id</text>
          <text x="10" y="67" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   name</text>
          <text x="10" y="84" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   contact_email</text>
          <text x="10" y="101" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   country</text>
          <text x="10" y="114" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   rating</text>
        </g>

        <!-- products (center) -->
        <g transform="translate(400,100)">
          <rect width="195" height="145" rx="10" fill="#1a2332" stroke="#f59e0b" stroke-width="2" opacity="0.95"/>
          <rect width="195" height="32" rx="10" fill="#f59e0b" opacity="0.2"/>
          <rect y="22" width="195" height="10" fill="#f59e0b" opacity="0.2"/>
          <text x="97" y="21" text-anchor="middle" fill="#fbbf24" font-family="JetBrains Mono" font-size="12" font-weight="700">products</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">product_id</text>
          <text x="10" y="67" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   name</text>
          <text x="10" y="84" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK category_id</text>
          <text x="10" y="101" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK supplier_id</text>
          <text x="10" y="118" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   price</text>
          <text x="10" y="135" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   stock_qty ¬∑ is_active</text>
        </g>

        <!-- orders (center-right) -->
        <g transform="translate(680,90)">
          <rect width="195" height="155" rx="10" fill="#1a2332" stroke="#10b981" stroke-width="2" opacity="0.95"/>
          <rect width="195" height="32" rx="10" fill="#10b981" opacity="0.2"/>
          <rect y="22" width="195" height="10" fill="#10b981" opacity="0.2"/>
          <text x="97" y="21" text-anchor="middle" fill="#34d399" font-family="JetBrains Mono" font-size="12" font-weight="700">orders</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">order_id</text>
          <text x="10" y="67" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK customer_id</text>
          <text x="10" y="84" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK employee_id</text>
          <text x="10" y="101" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   order_date</text>
          <text x="10" y="118" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   status</text>
          <text x="10" y="135" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   shipping_country</text>
          <text x="10" y="150" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   total_amount</text>
        </g>

        <!-- order_items (center) -->
        <g transform="translate(660,290)">
          <rect width="195" height="130" rx="10" fill="#1a2332" stroke="#f59e0b" stroke-width="1.5" opacity="0.9"/>
          <rect width="195" height="32" rx="10" fill="#f59e0b" opacity="0.18"/>
          <rect y="22" width="195" height="10" fill="#f59e0b" opacity="0.18"/>
          <text x="97" y="21" text-anchor="middle" fill="#fbbf24" font-family="JetBrains Mono" font-size="12" font-weight="700">order_items</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">item_id</text>
          <text x="10" y="67" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK order_id</text>
          <text x="10" y="84" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK product_id</text>
          <text x="10" y="101" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   quantity ¬∑ unit_price</text>
          <text x="10" y="118" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   discount_pct</text>
        </g>

        <!-- customers (bottom-center) -->
        <g transform="translate(450,420)">
          <rect width="195" height="150" rx="10" fill="#1a2332" stroke="#10b981" stroke-width="2" opacity="0.95"/>
          <rect width="195" height="32" rx="10" fill="#10b981" opacity="0.2"/>
          <rect y="22" width="195" height="10" fill="#10b981" opacity="0.2"/>
          <text x="97" y="21" text-anchor="middle" fill="#34d399" font-family="JetBrains Mono" font-size="12" font-weight="700">customers</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">customer_id</text>
          <text x="10" y="67" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   first_name ¬∑ last_name</text>
          <text x="10" y="84" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   email (UNIQUE)</text>
          <text x="10" y="101" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   phone ¬∑ city</text>
          <text x="10" y="118" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   country</text>
          <text x="10" y="135" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   created_at ¬∑ is_premium</text>
        </g>

        <!-- reviews (bottom-left) -->
        <g transform="translate(190,440)">
          <rect width="195" height="130" rx="10" fill="#1a2332" stroke="#a855f7" stroke-width="1.5" opacity="0.9"/>
          <rect width="195" height="32" rx="10" fill="#a855f7" opacity="0.18"/>
          <rect y="22" width="195" height="10" fill="#a855f7" opacity="0.18"/>
          <text x="97" y="21" text-anchor="middle" fill="#c084fc" font-family="JetBrains Mono" font-size="12" font-weight="700">reviews</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">review_id</text>
          <text x="10" y="67" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK product_id</text>
          <text x="10" y="84" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK customer_id</text>
          <text x="10" y="101" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   rating ¬∑ review_text</text>
          <text x="10" y="118" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   reviewed_at</text>
        </g>

        <!-- employees (right) -->
        <g transform="translate(900,290)">
          <rect width="175" height="145" rx="10" fill="#1a2332" stroke="#10b981" stroke-width="1.5" opacity="0.9"/>
          <rect width="175" height="32" rx="10" fill="#10b981" opacity="0.18"/>
          <rect y="22" width="175" height="10" fill="#10b981" opacity="0.18"/>
          <text x="87" y="21" text-anchor="middle" fill="#34d399" font-family="JetBrains Mono" font-size="12" font-weight="700">employees</text>
          <text x="10" y="50" fill="#f472b6" font-family="JetBrains Mono" font-size="10" font-weight="600">PK</text>
          <text x="35" y="50" fill="#e2e8f0" font-family="JetBrains Mono" font-size="10">employee_id</text>
          <text x="10" y="67" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   first_name ¬∑ last_name</text>
          <text x="10" y="84" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   role ¬∑ salary</text>
          <text x="10" y="101" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">   hire_date</text>
          <text x="10" y="118" fill="#60a5fa" font-family="JetBrains Mono" font-size="10">FK manager_id</text>
          <text x="87" y="138" text-anchor="middle" fill="#475569" font-family="JetBrains Mono" font-size="9">(self-reference)</text>
        </g>

        <!-- LEGEND -->
        <g transform="translate(60,560)">
          <rect width="500" height="40" rx="8" fill="#111827" stroke="#1e2d45" stroke-width="1"/>
          <line x1="15" y1="20" x2="50" y2="20" stroke="#a855f7" stroke-width="1.5" stroke-dasharray="4,3" opacity="0.7"/>
          <circle cx="50" cy="20" r="3" fill="#a855f7" opacity="0.7"/>
          <text x="60" y="24" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">Relationship</text>
          <text x="140" y="24" fill="#f59e0b" font-family="JetBrains Mono" font-size="10" font-weight="700">PK</text>
          <text x="155" y="24" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">= Primary Key</text>
          <text x="265" y="24" fill="#60a5fa" font-family="JetBrains Mono" font-size="10" font-weight="700">FK</text>
          <text x="280" y="24" fill="#94a3b8" font-family="JetBrains Mono" font-size="10">= Foreign Key</text>
          <text x="390" y="24" fill="#f472b6" font-family="JetBrains Mono" font-size="9">¬© shopverse_db</text>
        </g>
      </svg>
    </div>
  </section>

  <!-- SAMPLE DATA -->
  <section class="section" id="sampledata">
    <div class="section-header">
      <div class="section-icon data">üìä</div>
      <div class="section-title">Sample Data <small>// all tables populated with realistic records</small></div>
    </div>

    <div class="data-tables-grid">

      <!-- Customers -->
      <div class="data-card">
        <div class="data-card-header">
          <span class="tname">customers</span>
          <span class="rcount">15 rows</span>
        </div>
        <div class="scroll-wrap">
          <table class="result-table">
            <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>City</th><th>Country</th><th>Premium</th></tr></thead>
            <tbody>
              <tr><td class="num-val">1</td><td>Alice Johnson</td><td class="str-val">alice@mail.com</td><td>New York</td><td>USA</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">2</td><td>Bob Martinez</td><td class="str-val">bob@mail.com</td><td>Los Angeles</td><td>USA</td><td>‚úó</td></tr>
              <tr><td class="num-val">3</td><td>Chloe Dupont</td><td class="str-val">chloe@fr.com</td><td>Paris</td><td>France</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">4</td><td>David Kim</td><td class="str-val">david@kr.com</td><td>Seoul</td><td>South Korea</td><td>‚úó</td></tr>
              <tr><td class="num-val">5</td><td>Emma Wilson</td><td class="str-val">emma@uk.com</td><td>London</td><td>UK</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">6</td><td>Fatima Al-Said</td><td class="str-val">fatima@ae.com</td><td>Dubai</td><td>UAE</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">7</td><td>George Papadopoulos</td><td class="str-val">george@gr.com</td><td>Athens</td><td>Greece</td><td>‚úó</td></tr>
              <tr><td class="num-val">8</td><td>Hana Tanaka</td><td class="str-val">hana@jp.com</td><td>Tokyo</td><td>Japan</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">9</td><td>Ivan Petrov</td><td class="str-val">ivan@ru.com</td><td>Moscow</td><td>Russia</td><td>‚úó</td></tr>
              <tr><td class="num-val">10</td><td>Julia Chen</td><td class="str-val">julia@cn.com</td><td>Shanghai</td><td>China</td><td>‚úó</td></tr>
              <tr><td class="num-val">11</td><td>Kevin Okafor</td><td class="str-val">kevin@ng.com</td><td>Lagos</td><td>Nigeria</td><td>‚úó</td></tr>
              <tr><td class="num-val">12</td><td>Laura Rossi</td><td class="str-val">laura@it.com</td><td>Rome</td><td>Italy</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">13</td><td>Mike Brown</td><td class="str-val">mike@mail.com</td><td>Chicago</td><td>USA</td><td>‚úó</td></tr>
              <tr><td class="num-val">14</td><td>Nina Patel</td><td class="str-val">nina@in.com</td><td>Mumbai</td><td>India</td><td class="hi">‚úì</td></tr>
              <tr><td class="num-val">15</td><td>Oscar Rivera</td><td class="str-val">oscar@mx.com</td><td>Mexico City</td><td>Mexico</td><td>‚úó</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Products -->
      <div class="data-card">
        <div class="data-card-header">
          <span class="tname">products</span>
          <span class="rcount">15 rows</span>
        </div>
        <div class="scroll-wrap">
          <table class="result-table">
            <thead><tr><th>ID</th><th>Name</th><th>Cat</th><th>Price</th><th>Stock</th></tr></thead>
            <tbody>
              <tr><td class="num-val">1</td><td>UltraBook Pro 15</td><td>1</td><td class="num-val">$1,299.99</td><td class="num-val">45</td></tr>
              <tr><td class="num-val">2</td><td>Wireless Earbuds X</td><td>2</td><td class="num-val">$149.99</td><td class="num-val">120</td></tr>
              <tr><td class="num-val">3</td><td>SmartWatch V3</td><td>2</td><td class="num-val">$299.00</td><td class="num-val">67</td></tr>
              <tr><td class="num-val">4</td><td>4K Monitor 27"</td><td>1</td><td class="num-val">$549.50</td><td class="num-val">30</td></tr>
              <tr><td class="num-val">5</td><td>Mechanical Keyboard</td><td>3</td><td class="num-val">$89.99</td><td class="num-val">200</td></tr>
              <tr><td class="num-val">6</td><td>Ergonomic Chair</td><td>4</td><td class="num-val">$399.00</td><td class="num-val">18</td></tr>
              <tr><td class="num-val">7</td><td>Standing Desk</td><td>4</td><td class="num-val">$649.00</td><td class="num-val">12</td></tr>
              <tr><td class="num-val">8</td><td>USB-C Hub 10-port</td><td>3</td><td class="num-val">$59.99</td><td class="num-val">350</td></tr>
              <tr><td class="num-val">9</td><td>Webcam HD 1080p</td><td>3</td><td class="num-val">$79.00</td><td class="num-val">95</td></tr>
              <tr><td class="num-val">10</td><td>Gaming Mouse</td><td>3</td><td class="num-val">$69.99</td><td class="num-val">180</td></tr>
              <tr><td class="num-val">11</td><td>Portable SSD 1TB</td><td>1</td><td class="num-val">$129.99</td><td class="num-val">75</td></tr>
              <tr><td class="num-val">12</td><td>Noise-Cancel Headphones</td><td>2</td><td class="num-val">$249.99</td><td class="num-val">50</td></tr>
              <tr><td class="num-val">13</td><td>Tablet Pro 11"</td><td>1</td><td class="num-val">$799.00</td><td class="num-val">40</td></tr>
              <tr><td class="num-val">14</td><td>Cable Management Kit</td><td>3</td><td class="num-val">$24.99</td><td class="num-val">500</td></tr>
              <tr><td class="num-val">15</td><td>Desk Lamp LED</td><td>4</td><td class="num-val">$49.99</td><td class="num-val">150</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Orders -->
      <div class="data-card">
        <div class="data-card-header">
          <span class="tname">orders</span>
          <span class="rcount">15 rows</span>
        </div>
        <div class="scroll-wrap">
          <table class="result-table">
            <thead><tr><th>ID</th><th>Cust</th><th>Date</th><th>Status</th><th>Total</th></tr></thead>
            <tbody>
              <tr><td class="num-val">1</td><td class="num-val">1</td><td>2024-01-10</td><td class="str-val">delivered</td><td class="num-val">$1,449.99</td></tr>
              <tr><td class="num-val">2</td><td class="num-val">3</td><td>2024-01-15</td><td class="str-val">delivered</td><td class="num-val">$299.00</td></tr>
              <tr><td class="num-val">3</td><td class="num-val">5</td><td>2024-02-01</td><td class="str-val">shipped</td><td class="num-val">$699.49</td></tr>
              <tr><td class="num-val">4</td><td class="num-val">2</td><td>2024-02-14</td><td class="str-val">delivered</td><td class="num-val">$219.98</td></tr>
              <tr><td class="num-val">5</td><td class="num-val">8</td><td>2024-02-20</td><td class="str-val">pending</td><td class="num-val">$549.50</td></tr>
              <tr><td class="num-val">6</td><td class="num-val">4</td><td>2024-03-05</td><td class="str-val">delivered</td><td class="num-val">$159.98</td></tr>
              <tr><td class="num-val">7</td><td class="num-val">14</td><td>2024-03-12</td><td class="str-val">delivered</td><td class="num-val">$1,099.00</td></tr>
              <tr><td class="num-val">8</td><td class="num-val">6</td><td>2024-03-18</td><td class="str-val">cancelled</td><td class="num-val">$649.00</td></tr>
              <tr><td class="num-val">9</td><td class="num-val">1</td><td>2024-04-02</td><td class="str-val">delivered</td><td class="num-val">$399.00</td></tr>
              <tr><td class="num-val">10</td><td class="num-val">10</td><td>2024-04-09</td><td class="str-val">shipped</td><td class="num-val">$329.98</td></tr>
              <tr><td class="num-val">11</td><td class="num-val">7</td><td>2024-04-22</td><td class="str-val">delivered</td><td class="num-val">$129.99</td></tr>
              <tr><td class="num-val">12</td><td class="num-val">12</td><td>2024-05-03</td><td class="str-val">delivered</td><td class="num-val">$899.00</td></tr>
              <tr><td class="num-val">13</td><td class="num-val">9</td><td>2024-05-15</td><td class="str-val">shipped</td><td class="num-val">$249.99</td></tr>
              <tr><td class="num-val">14</td><td class="num-val">11</td><td>2024-06-01</td><td class="str-val">pending</td><td class="num-val">$189.98</td></tr>
              <tr><td class="num-val">15</td><td class="num-val">5</td><td>2024-06-10</td><td class="str-val">delivered</td><td class="num-val">$799.00</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Reviews -->
      <div class="data-card">
        <div class="data-card-header">
          <span class="tname">reviews</span>
          <span class="rcount">12 rows</span>
        </div>
        <div class="scroll-wrap">
          <table class="result-table">
            <thead><tr><th>ID</th><th>Product</th><th>Customer</th><th>Rating</th><th>Review Text</th></tr></thead>
            <tbody>
              <tr><td class="num-val">1</td><td class="num-val">1</td><td class="num-val">1</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td><td>Outstanding laptop, very fast</td></tr>
              <tr><td class="num-val">2</td><td class="num-val">2</td><td class="num-val">3</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td><td>Great sound, minor latency</td></tr>
              <tr><td class="num-val">3</td><td class="num-val">3</td><td class="num-val">5</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td><td>Best smartwatch I've owned</td></tr>
              <tr><td class="num-val">4</td><td class="num-val">6</td><td class="num-val">1</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td><td>Very comfortable, good lumbar</td></tr>
              <tr><td class="num-val">5</td><td class="num-val">5</td><td class="num-val">2</td><td class="num-val">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</td><td>Average typing feel</td></tr>
              <tr><td class="num-val">6</td><td class="num-val">12</td><td class="num-val">8</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td><td>Incredible noise cancellation</td></tr>
              <tr><td class="num-val">7</td><td class="num-val">4</td><td class="num-val">14</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td><td>Crystal clear 4K display</td></tr>
              <tr><td class="num-val">8</td><td class="num-val">10</td><td class="num-val">4</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td><td>Smooth sensor, good weight</td></tr>
              <tr><td class="num-val">9</td><td class="num-val">13</td><td class="num-val">12</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td><td>Replaced my laptop entirely</td></tr>
              <tr><td class="num-val">10</td><td class="num-val">7</td><td class="num-val">6</td><td class="num-val">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</td><td>Good desk but assembly complex</td></tr>
              <tr><td class="num-val">11</td><td class="num-val">9</td><td class="num-val">7</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td><td>Sharp image, easy setup</td></tr>
              <tr><td class="num-val">12</td><td class="num-val">11</td><td class="num-val">9</td><td class="hi">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td><td>Blazing fast transfer speeds</td></tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </section>

  <!-- ============================= MYSQL ============================= -->
  <div class="lang-divider" id="mysql">
    <div class="lang-divider-line"></div>
    <div class="lang-divider-title mysql">üê¨ MySQL</div>
    <div class="lang-divider-line"></div>
  </div>

  <div class="lang-meta">
    <div class="lang-meta-icon">üê¨</div>
    <div class="lang-meta-text">
      <h3>MySQL 8.0</h3>
      <p>The world's most popular open-source RDBMS. Widely used in LAMP stack web applications. MySQL 8.0 adds CTEs, window functions, and JSON support. Queries below demonstrate DDL, DML, aggregations, joins, subqueries, stored procedures, views, and indexing.</p>
    </div>
  </div>

  <!-- Q1 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">1. CREATE TABLE + INSERT ‚Äî DDL & DML Foundations</span>
      <span class="query-label mysql">MySQL</span>
    </div>
    <div class="query-desc">Creates the core tables with proper data types, constraints (PRIMARY KEY, FOREIGN KEY, UNIQUE, NOT NULL, DEFAULT), and AUTO_INCREMENT. These are the foundational DDL statements a DBA runs when setting up a new schema. <code>ENGINE=InnoDB</code> enables row-level locking and foreign keys.</div>
    <pre class="code-block"><span class="cmt">-- Create the database and switch to it</span>
<span class="kw">CREATE DATABASE</span> shopverse_db <span class="kw">CHARACTER SET</span> utf8mb4 <span class="kw">COLLATE</span> utf8mb4_unicode_ci;
<span class="kw">USE</span> shopverse_db;

<span class="cmt">-- Customers table</span>
<span class="kw">CREATE TABLE</span> <span class="tbl">customers</span> (
  <span class="col">customer_id</span>  <span class="fn">INT</span>             <span class="kw">NOT NULL AUTO_INCREMENT</span>,
  <span class="col">first_name</span>   <span class="fn">VARCHAR</span>(50)     <span class="kw">NOT NULL</span>,
  <span class="col">last_name</span>    <span class="fn">VARCHAR</span>(50)     <span class="kw">NOT NULL</span>,
  <span class="col">email</span>        <span class="fn">VARCHAR</span>(100)    <span class="kw">UNIQUE NOT NULL</span>,
  <span class="col">phone</span>        <span class="fn">VARCHAR</span>(20),
  <span class="col">city</span>         <span class="fn">VARCHAR</span>(60),
  <span class="col">country</span>      <span class="fn">VARCHAR</span>(60),
  <span class="col">created_at</span>   <span class="fn">DATETIME</span>        <span class="kw">DEFAULT</span> <span class="fn">CURRENT_TIMESTAMP</span>,
  <span class="col">is_premium</span>   <span class="fn">BOOLEAN</span>         <span class="kw">DEFAULT</span> <span class="num">FALSE</span>,
  <span class="kw">PRIMARY KEY</span> (<span class="col">customer_id</span>)
) <span class="kw">ENGINE</span>=InnoDB;

<span class="cmt">-- Insert sample customers</span>
<span class="kw">INSERT INTO</span> <span class="tbl">customers</span> (<span class="col">first_name</span>, <span class="col">last_name</span>, <span class="col">email</span>, <span class="col">city</span>, <span class="col">country</span>, <span class="col">is_premium</span>) <span class="kw">VALUES</span>
  (<span class="str">'Alice'</span>,  <span class="str">'Johnson'</span>, <span class="str">'alice@mail.com'</span>, <span class="str">'New York'</span>,  <span class="str">'USA'</span>,    <span class="num">TRUE</span>),
  (<span class="str">'Bob'</span>,    <span class="str">'Martinez'</span>,<span class="str">'bob@mail.com'</span>,   <span class="str">'Los Angeles'</span>,<span class="str">'USA'</span>,   <span class="num">FALSE</span>),
  (<span class="str">'Chloe'</span>, <span class="str">'Dupont'</span>,  <span class="str">'chloe@fr.com'</span>,  <span class="str">'Paris'</span>,     <span class="str">'France'</span>, <span class="num">TRUE</span>),
  (<span class="str">'Emma'</span>,  <span class="str">'Wilson'</span>,  <span class="str">'emma@uk.com'</span>,   <span class="str">'London'</span>,    <span class="str">'UK'</span>,     <span class="num">TRUE</span>),
  (<span class="str">'Hana'</span>,  <span class="str">'Tanaka'</span>,  <span class="str">'hana@jp.com'</span>,   <span class="str">'Tokyo'</span>,     <span class="str">'Japan'</span>,  <span class="num">TRUE</span>);</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT: Query OK, 5 rows affected</span></div>
    </div>
  </div>

  <!-- Q2 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">2. INNER JOIN ‚Äî Multi-Table Lookup</span>
      <span class="query-label mysql">MySQL</span>
    </div>
    <div class="query-desc">Combines orders with customers to show who placed each order. INNER JOIN returns only rows where the join condition matches on both sides. This is the most fundamental JOIN type used to reconstruct normalised data.</div>
    <pre class="code-block"><span class="kw">SELECT</span>
  o.<span class="col">order_id</span>,
  <span class="fn">CONCAT</span>(c.<span class="col">first_name</span>, <span class="str">' '</span>, c.<span class="col">last_name</span>) <span class="kw">AS</span> <span class="col">customer_name</span>,
  c.<span class="col">country</span>,
  o.<span class="col">order_date</span>,
  o.<span class="col">status</span>,
  o.<span class="col">total_amount</span>
<span class="kw">FROM</span> <span class="tbl">orders</span> o
<span class="kw">INNER JOIN</span> <span class="tbl">customers</span> c <span class="kw">ON</span> o.<span class="col">customer_id</span> <span class="op">=</span> c.<span class="col">customer_id</span>
<span class="kw">ORDER BY</span> o.<span class="col">order_date</span> <span class="kw">DESC</span>
<span class="kw">LIMIT</span> <span class="num">6</span>;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî 6 rows</span></div>
      <table class="result-table">
        <thead><tr><th>order_id</th><th>customer_name</th><th>country</th><th>order_date</th><th>status</th><th>total_amount</th></tr></thead>
        <tbody>
          <tr><td class="num-val">15</td><td>Emma Wilson</td><td>UK</td><td>2024-06-10</td><td class="str-val">delivered</td><td class="num-val">$799.00</td></tr>
          <tr><td class="num-val">14</td><td>Kevin Okafor</td><td>Nigeria</td><td>2024-06-01</td><td class="str-val">pending</td><td class="num-val">$189.98</td></tr>
          <tr><td class="num-val">13</td><td>Ivan Petrov</td><td>Russia</td><td>2024-05-15</td><td class="str-val">shipped</td><td class="num-val">$249.99</td></tr>
          <tr><td class="num-val">12</td><td>Laura Rossi</td><td>Italy</td><td>2024-05-03</td><td class="str-val">delivered</td><td class="num-val">$899.00</td></tr>
          <tr><td class="num-val">11</td><td>George Papadopoulos</td><td>Greece</td><td>2024-04-22</td><td class="str-val">delivered</td><td class="num-val">$129.99</td></tr>
          <tr><td class="num-val">10</td><td>Julia Chen</td><td>China</td><td>2024-04-09</td><td class="str-val">shipped</td><td class="num-val">$329.98</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Q3 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">3. GROUP BY + Aggregate Functions ‚Äî Revenue by Country</span>
      <span class="query-label mysql">MySQL</span>
    </div>
    <div class="query-desc">Aggregates order data to show revenue per country. Uses COUNT(), SUM(), AVG() and ROUND(). The HAVING clause filters groups after aggregation ‚Äî unlike WHERE which filters rows before. Essential for business intelligence queries.</div>
    <pre class="code-block"><span class="kw">SELECT</span>
  c.<span class="col">country</span>,
  <span class="fn">COUNT</span>(o.<span class="col">order_id</span>)              <span class="kw">AS</span> <span class="col">total_orders</span>,
  <span class="fn">SUM</span>(o.<span class="col">total_amount</span>)            <span class="kw">AS</span> <span class="col">total_revenue</span>,
  <span class="fn">ROUND</span>(<span class="fn">AVG</span>(o.<span class="col">total_amount</span>), <span class="num">2</span>)  <span class="kw">AS</span> <span class="col">avg_order_value</span>,
  <span class="fn">MAX</span>(o.<span class="col">total_amount</span>)            <span class="kw">AS</span> <span class="col">largest_order</span>
<span class="kw">FROM</span> <span class="tbl">orders</span> o
<span class="kw">JOIN</span> <span class="tbl">customers</span> c <span class="kw">ON</span> o.<span class="col">customer_id</span> <span class="op">=</span> c.<span class="col">customer_id</span>
<span class="kw">WHERE</span> o.<span class="col">status</span> <span class="op">!=</span> <span class="str">'cancelled'</span>
<span class="kw">GROUP BY</span> c.<span class="col">country</span>
<span class="kw">HAVING</span> <span class="fn">COUNT</span>(o.<span class="col">order_id</span>) <span class="op">>=</span> <span class="num">1</span>
<span class="kw">ORDER BY</span> <span class="col">total_revenue</span> <span class="kw">DESC</span>;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Revenue by Country</span></div>
      <table class="result-table">
        <thead><tr><th>country</th><th>total_orders</th><th>total_revenue</th><th>avg_order_value</th><th>largest_order</th></tr></thead>
        <tbody>
          <tr><td>USA</td><td class="num-val">3</td><td class="num-val">$2,068.97</td><td class="num-val">$689.66</td><td class="num-val">$1,449.99</td></tr>
          <tr><td>UK</td><td class="num-val">2</td><td class="num-val">$1,498.49</td><td class="num-val">$749.25</td><td class="num-val">$799.00</td></tr>
          <tr><td>India</td><td class="num-val">1</td><td class="num-val">$1,099.00</td><td class="num-val">$1,099.00</td><td class="num-val">$1,099.00</td></tr>
          <tr><td>Italy</td><td class="num-val">1</td><td class="num-val">$899.00</td><td class="num-val">$899.00</td><td class="num-val">$899.00</td></tr>
          <tr><td>Japan</td><td class="num-val">1</td><td class="num-val">$549.50</td><td class="num-val">$549.50</td><td class="num-val">$549.50</td></tr>
          <tr><td>France</td><td class="num-val">1</td><td class="num-val">$299.00</td><td class="num-val">$299.00</td><td class="num-val">$299.00</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Q4 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">4. Subquery + LEFT JOIN ‚Äî Customers With No Orders</span>
      <span class="query-label mysql">MySQL</span>
    </div>
    <div class="query-desc">Uses LEFT JOIN with a NULL check ‚Äî the classic "anti-join" pattern ‚Äî to find customers who have never placed an order. Alternatively shown with a NOT EXISTS subquery. Both patterns are key DBA tools for data quality checks.</div>
    <pre class="code-block"><span class="cmt">-- Method A: LEFT JOIN + IS NULL (anti-join)</span>
<span class="kw">SELECT</span>
  c.<span class="col">customer_id</span>,
  <span class="fn">CONCAT</span>(c.<span class="col">first_name</span>, <span class="str">' '</span>, c.<span class="col">last_name</span>) <span class="kw">AS</span> <span class="col">full_name</span>,
  c.<span class="col">email</span>,
  c.<span class="col">country</span>
<span class="kw">FROM</span> <span class="tbl">customers</span> c
<span class="kw">LEFT JOIN</span> <span class="tbl">orders</span> o <span class="kw">ON</span> c.<span class="col">customer_id</span> <span class="op">=</span> o.<span class="col">customer_id</span>
<span class="kw">WHERE</span> o.<span class="col">order_id</span> <span class="kw">IS NULL</span>;

<span class="cmt">-- Method B: NOT EXISTS correlated subquery</span>
<span class="kw">SELECT</span> c.<span class="col">customer_id</span>, c.<span class="col">first_name</span>, c.<span class="col">email</span>
<span class="kw">FROM</span> <span class="tbl">customers</span> c
<span class="kw">WHERE NOT EXISTS</span> (
  <span class="kw">SELECT</span> <span class="num">1</span> <span class="kw">FROM</span> <span class="tbl">orders</span> o
  <span class="kw">WHERE</span> o.<span class="col">customer_id</span> <span class="op">=</span> c.<span class="col">customer_id</span>
);</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Customers with 0 orders</span></div>
      <table class="result-table">
        <thead><tr><th>customer_id</th><th>full_name</th><th>email</th><th>country</th></tr></thead>
        <tbody>
          <tr><td class="num-val">13</td><td>Mike Brown</td><td class="str-val">mike@mail.com</td><td>USA</td></tr>
          <tr><td class="num-val">15</td><td>Oscar Rivera</td><td class="str-val">oscar@mx.com</td><td>Mexico</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Q5 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">5. Stored Procedure ‚Äî Top Selling Products</span>
      <span class="query-label mysql">MySQL</span>
    </div>
    <div class="query-desc">A stored procedure encapsulates reusable SQL logic on the server. This procedure accepts a limit parameter and returns the top N products by units sold. The DELIMITER command is required in MySQL CLI to define multi-statement procedures.</div>
    <pre class="code-block"><span class="kw">DELIMITER</span> //
<span class="kw">CREATE PROCEDURE</span> <span class="fn">GetTopSellingProducts</span>(<span class="kw">IN</span> <span class="col">p_limit</span> <span class="fn">INT</span>)
<span class="kw">BEGIN</span>
  <span class="kw">SELECT</span>
    p.<span class="col">product_id</span>,
    p.<span class="col">name</span>                             <span class="kw">AS</span> <span class="col">product_name</span>,
    <span class="fn">SUM</span>(oi.<span class="col">quantity</span>)                  <span class="kw">AS</span> <span class="col">units_sold</span>,
    <span class="fn">SUM</span>(oi.<span class="col">quantity</span> <span class="op">*</span> oi.<span class="col">unit_price</span>)  <span class="kw">AS</span> <span class="col">gross_revenue</span>
  <span class="kw">FROM</span> <span class="tbl">products</span> p
  <span class="kw">JOIN</span> <span class="tbl">order_items</span> oi <span class="kw">ON</span> p.<span class="col">product_id</span> <span class="op">=</span> oi.<span class="col">product_id</span>
  <span class="kw">JOIN</span> <span class="tbl">orders</span> o <span class="kw">ON</span> oi.<span class="col">order_id</span> <span class="op">=</span> o.<span class="col">order_id</span>
  <span class="kw">WHERE</span> o.<span class="col">status</span> <span class="op">!=</span> <span class="str">'cancelled'</span>
  <span class="kw">GROUP BY</span> p.<span class="col">product_id</span>, p.<span class="col">name</span>
  <span class="kw">ORDER BY</span> <span class="col">units_sold</span> <span class="kw">DESC</span>
  <span class="kw">LIMIT</span> <span class="col">p_limit</span>;
<span class="kw">END</span> //
<span class="kw">DELIMITER</span> ;

<span class="cmt">-- Call the procedure</span>
<span class="kw">CALL</span> <span class="fn">GetTopSellingProducts</span>(<span class="num">5</span>);</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Top 5 Products</span></div>
      <table class="result-table">
        <thead><tr><th>product_id</th><th>product_name</th><th>units_sold</th><th>gross_revenue</th></tr></thead>
        <tbody>
          <tr><td class="num-val">1</td><td>UltraBook Pro 15</td><td class="num-val">3</td><td class="num-val">$3,899.97</td></tr>
          <tr><td class="num-val">6</td><td>Ergonomic Chair</td><td class="num-val">2</td><td class="num-val">$798.00</td></tr>
          <tr><td class="num-val">4</td><td>4K Monitor 27"</td><td class="num-val">2</td><td class="num-val">$1,099.00</td></tr>
          <tr><td class="num-val">12</td><td>Noise-Cancel Headphones</td><td class="num-val">2</td><td class="num-val">$499.98</td></tr>
          <tr><td class="num-val">2</td><td>Wireless Earbuds X</td><td class="num-val">1</td><td class="num-val">$149.99</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Q6 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">6. CREATE VIEW + INDEX ‚Äî Performance Optimization</span>
      <span class="query-label mysql">MySQL</span>
    </div>
    <div class="query-desc">Views create saved, reusable SELECT queries that appear as virtual tables. Indexes dramatically speed up queries on large tables. A DBA regularly creates both ‚Äî views for business logic abstraction, indexes for query performance. EXPLAIN shows the query execution plan.</div>
    <pre class="code-block"><span class="cmt">-- Create a view for the sales dashboard</span>
<span class="kw">CREATE VIEW</span> <span class="tbl">v_sales_dashboard</span> <span class="kw">AS</span>
  <span class="kw">SELECT</span>
    o.<span class="col">order_id</span>,
    <span class="fn">CONCAT</span>(c.<span class="col">first_name</span>, <span class="str">' '</span>, c.<span class="col">last_name</span>)  <span class="kw">AS</span> <span class="col">customer</span>,
    c.<span class="col">country</span>,
    o.<span class="col">order_date</span>,
    o.<span class="col">status</span>,
    <span class="fn">COUNT</span>(oi.<span class="col">item_id</span>)                        <span class="kw">AS</span> <span class="col">line_items</span>,
    o.<span class="col">total_amount</span>
  <span class="kw">FROM</span> <span class="tbl">orders</span> o
  <span class="kw">JOIN</span> <span class="tbl">customers</span> c  <span class="kw">ON</span> o.<span class="col">customer_id</span> <span class="op">=</span> c.<span class="col">customer_id</span>
  <span class="kw">JOIN</span> <span class="tbl">order_items</span> oi <span class="kw">ON</span> o.<span class="col">order_id</span> <span class="op">=</span> oi.<span class="col">order_id</span>
  <span class="kw">GROUP BY</span> o.<span class="col">order_id</span>, c.<span class="col">first_name</span>, c.<span class="col">last_name</span>,
           c.<span class="col">country</span>, o.<span class="col">order_date</span>, o.<span class="col">status</span>, o.<span class="col">total_amount</span>;

<span class="cmt">-- Add indexes for commonly filtered columns</span>
<span class="kw">CREATE INDEX</span> <span class="col">idx_orders_status</span>      <span class="kw">ON</span> <span class="tbl">orders</span>(<span class="col">status</span>);
<span class="kw">CREATE INDEX</span> <span class="col">idx_orders_date</span>        <span class="kw">ON</span> <span class="tbl">orders</span>(<span class="col">order_date</span>);
<span class="kw">CREATE INDEX</span> <span class="col">idx_products_category</span>  <span class="kw">ON</span> <span class="tbl">products</span>(<span class="col">category_id</span>);
<span class="kw">CREATE INDEX</span> <span class="col">idx_reviews_product</span>    <span class="kw">ON</span> <span class="tbl">reviews</span>(<span class="col">product_id</span>);

<span class="cmt">-- Check query execution plan</span>
<span class="kw">EXPLAIN SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="tbl">v_sales_dashboard</span>
<span class="kw">WHERE</span> <span class="col">status</span> <span class="op">=</span> <span class="str">'delivered'</span>;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT: View created ¬∑ 4 indexes created ¬∑ EXPLAIN output (abbreviated)</span></div>
      <table class="result-table">
        <thead><tr><th>id</th><th>select_type</th><th>table</th><th>type</th><th>key</th><th>rows</th><th>Extra</th></tr></thead>
        <tbody>
          <tr><td>1</td><td>SIMPLE</td><td>o</td><td class="hi">ref</td><td class="str-val">idx_orders_status</td><td class="num-val">9</td><td>Using index</td></tr>
          <tr><td>1</td><td>SIMPLE</td><td>c</td><td>eq_ref</td><td class="str-val">PRIMARY</td><td class="num-val">1</td><td></td></tr>
          <tr><td>1</td><td>SIMPLE</td><td>oi</td><td>ref</td><td class="str-val">order_id</td><td class="num-val">2</td><td>Using index</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ============================= POSTGRESQL ============================= -->
  <div class="lang-divider" id="postgresql">
    <div class="lang-divider-line"></div>
    <div class="lang-divider-title pg">üêò PostgreSQL</div>
    <div class="lang-divider-line"></div>
  </div>

  <div class="lang-meta">
    <div class="lang-meta-icon">üêò</div>
    <div class="lang-meta-text">
      <h3>PostgreSQL 15</h3>
      <p>The most advanced open-source RDBMS ‚Äî known for full SQL standards compliance, advanced features like CTEs, window functions, JSONB, full-text search, and custom types. Preferred in analytics and enterprise workloads. Queries below highlight PostgreSQL-specific syntax and powerful analytical capabilities.</p>
    </div>
  </div>

  <!-- PG Q1 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">1. CTE (Common Table Expression) ‚Äî Monthly Revenue Trend</span>
      <span class="query-label pg">PostgreSQL</span>
    </div>
    <div class="query-desc">CTEs (WITH clause) create named temporary result sets that improve query readability. PostgreSQL's CTE syntax is identical to the SQL standard. This query generates a monthly revenue report ‚Äî essential for dashboards and trend analysis. DATE_TRUNC truncates timestamps to the given precision.</div>
    <pre class="code-block"><span class="kw">WITH</span> <span class="tbl">monthly_sales</span> <span class="kw">AS</span> (
  <span class="kw">SELECT</span>
    <span class="fn">DATE_TRUNC</span>(<span class="str">'month'</span>, o.order_date)  <span class="kw">AS</span> <span class="col">month</span>,
    <span class="fn">COUNT</span>(o.order_id)                  <span class="kw">AS</span> <span class="col">order_count</span>,
    <span class="fn">SUM</span>(o.total_amount)               <span class="kw">AS</span> <span class="col">revenue</span>
  <span class="kw">FROM</span> <span class="tbl">orders</span> o
  <span class="kw">WHERE</span> o.status <span class="op">!=</span> <span class="str">'cancelled'</span>
  <span class="kw">GROUP BY</span> <span class="fn">DATE_TRUNC</span>(<span class="str">'month'</span>, o.order_date)
),
<span class="tbl">with_growth</span> <span class="kw">AS</span> (
  <span class="kw">SELECT</span>
    <span class="fn">TO_CHAR</span>(month, <span class="str">'Mon YYYY'</span>)         <span class="kw">AS</span> <span class="col">month_label</span>,
    order_count,
    revenue,
    <span class="fn">LAG</span>(revenue) <span class="kw">OVER</span> (<span class="kw">ORDER BY</span> month) <span class="kw">AS</span> <span class="col">prev_revenue</span>
  <span class="kw">FROM</span> <span class="tbl">monthly_sales</span>
)
<span class="kw">SELECT</span>
  month_label,
  order_count,
  <span class="fn">ROUND</span>(revenue<span class="op">::</span><span class="fn">NUMERIC</span>, <span class="num">2</span>)  <span class="kw">AS</span> <span class="col">revenue</span>,
  <span class="kw">CASE</span>
    <span class="kw">WHEN</span> prev_revenue <span class="kw">IS NULL</span> <span class="kw">THEN</span> <span class="str">'‚Äî'</span>
    <span class="kw">ELSE</span> <span class="fn">ROUND</span>(((revenue <span class="op">-</span> prev_revenue) <span class="op">/</span> prev_revenue <span class="op">*</span> <span class="num">100</span>)<span class="op">::</span><span class="fn">NUMERIC</span>, <span class="num">1</span>)<span class="op">::</span><span class="fn">TEXT</span> <span class="op">||</span> <span class="str">'%'</span>
  <span class="kw">END</span> <span class="kw">AS</span> <span class="col">mom_growth</span>
<span class="kw">FROM</span> <span class="tbl">with_growth</span>
<span class="kw">ORDER BY</span> month_label;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Monthly Revenue Trend</span></div>
      <table class="result-table">
        <thead><tr><th>month_label</th><th>order_count</th><th>revenue</th><th>mom_growth</th></tr></thead>
        <tbody>
          <tr><td>Jan 2024</td><td class="num-val">2</td><td class="num-val">$1,748.99</td><td class="str-val">‚Äî</td></tr>
          <tr><td>Feb 2024</td><td class="num-val">3</td><td class="num-val">$1,468.97</td><td class="num-val">-16.0%</td></tr>
          <tr><td>Mar 2024</td><td class="num-val">3</td><td class="num-val">$1,907.98</td><td class="hi">+29.9%</td></tr>
          <tr><td>Apr 2024</td><td class="num-val">3</td><td class="num-val">$858.97</td><td class="num-val">-55.0%</td></tr>
          <tr><td>May 2024</td><td class="num-val">2</td><td class="num-val">$1,148.99</td><td class="hi">+33.8%</td></tr>
          <tr><td>Jun 2024</td><td class="num-val">2</td><td class="num-val">$988.98</td><td class="num-val">-13.9%</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- PG Q2 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">2. Window Functions ‚Äî Customer Purchase Ranking</span>
      <span class="query-label pg">PostgreSQL</span>
    </div>
    <div class="query-desc">Window functions perform calculations across related rows without collapsing them like GROUP BY does. RANK() assigns ranking within partitions. ROW_NUMBER() gives a unique sequential number. Running totals with SUM() OVER() are extremely powerful for analytics. PostgreSQL has excellent window function support.</div>
    <pre class="code-block"><span class="kw">SELECT</span>
  <span class="fn">CONCAT</span>(c.first_name, <span class="str">' '</span>, c.last_name)           <span class="kw">AS</span> <span class="col">customer</span>,
  c.country,
  <span class="fn">COUNT</span>(o.order_id)                                <span class="kw">AS</span> <span class="col">orders</span>,
  <span class="fn">SUM</span>(o.total_amount)                              <span class="kw">AS</span> <span class="col">lifetime_value</span>,
  <span class="fn">RANK</span>() <span class="kw">OVER</span> (<span class="kw">ORDER BY SUM</span>(o.total_amount) <span class="kw">DESC</span>) <span class="kw">AS</span> <span class="col">revenue_rank</span>,
  <span class="fn">ROUND</span>(
    <span class="fn">SUM</span>(o.total_amount) <span class="op">*</span> <span class="num">100.0</span>
    <span class="op">/</span> <span class="fn">SUM</span>(<span class="fn">SUM</span>(o.total_amount)) <span class="kw">OVER</span>(),
  <span class="num">2</span>) <span class="kw">AS</span> <span class="col">pct_of_total</span>
<span class="kw">FROM</span> <span class="tbl">customers</span> c
<span class="kw">JOIN</span> <span class="tbl">orders</span> o <span class="kw">ON</span> c.customer_id <span class="op">=</span> o.customer_id
<span class="kw">WHERE</span> o.status <span class="op">!=</span> <span class="str">'cancelled'</span>
<span class="kw">GROUP BY</span> c.customer_id, c.first_name, c.last_name, c.country
<span class="kw">ORDER BY</span> <span class="col">revenue_rank</span>;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Customer Revenue Ranking</span></div>
      <table class="result-table">
        <thead><tr><th>customer</th><th>country</th><th>orders</th><th>lifetime_value</th><th>revenue_rank</th><th>pct_of_total</th></tr></thead>
        <tbody>
          <tr><td>Alice Johnson</td><td>USA</td><td class="num-val">2</td><td class="num-val">$1,848.99</td><td class="hi">1</td><td class="num-val">19.1%</td></tr>
          <tr><td>Nina Patel</td><td>India</td><td class="num-val">1</td><td class="num-val">$1,099.00</td><td class="hi">2</td><td class="num-val">11.4%</td></tr>
          <tr><td>Laura Rossi</td><td>Italy</td><td class="num-val">1</td><td class="num-val">$899.00</td><td class="hi">3</td><td class="num-val">9.3%</td></tr>
          <tr><td>Emma Wilson</td><td>UK</td><td class="num-val">2</td><td class="num-val">$1,398.49</td><td class="hi">4</td><td class="num-val">14.5%</td></tr>
          <tr><td>Julia Chen</td><td>China</td><td class="num-val">1</td><td class="num-val">$329.98</td><td class="hi">5</td><td class="num-val">3.4%</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- PG Q3 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">3. JSONB ‚Äî Storing & Querying JSON Product Metadata</span>
      <span class="query-label pg">PostgreSQL</span>
    </div>
    <div class="query-desc">PostgreSQL's JSONB column type stores semi-structured data with full indexing support. The ->> operator extracts text values from JSON, while @> tests JSON containment. GIN indexes enable fast JSONB queries. This demonstrates PostgreSQL's hybrid relational/document capability.</div>
    <pre class="code-block"><span class="cmt">-- Add a JSONB column for product specs</span>
<span class="kw">ALTER TABLE</span> <span class="tbl">products</span>
  <span class="kw">ADD COLUMN</span> <span class="col">specs</span> <span class="fn">JSONB</span>;

<span class="cmt">-- Update with JSON metadata</span>
<span class="kw">UPDATE</span> <span class="tbl">products</span> <span class="kw">SET</span> specs <span class="op">=</span> <span class="str">'{"brand":"TechPro","ram_gb":16,"storage_gb":512,"os":"Windows 11"}'</span>
<span class="kw">WHERE</span> product_id <span class="op">=</span> <span class="num">1</span>;

<span class="kw">UPDATE</span> <span class="tbl">products</span> <span class="kw">SET</span> specs <span class="op">=</span> <span class="str">'{"brand":"SoundMax","battery_hrs":8,"wireless":true,"codec":"AAC"}'</span>
<span class="kw">WHERE</span> product_id <span class="op">=</span> <span class="num">2</span>;

<span class="cmt">-- Create GIN index for fast JSONB queries</span>
<span class="kw">CREATE INDEX</span> <span class="col">idx_products_specs_gin</span> <span class="kw">ON</span> <span class="tbl">products</span> <span class="kw">USING</span> <span class="fn">GIN</span>(specs);

<span class="cmt">-- Query: find all products with ram_gb >= 8</span>
<span class="kw">SELECT</span>
  name,
  price,
  specs<span class="op">->></span><span class="str">'brand'</span>        <span class="kw">AS</span> brand,
  (specs<span class="op">->></span><span class="str">'ram_gb'</span>)<span class="op">::</span><span class="fn">INT</span> <span class="kw">AS</span> ram_gb
<span class="kw">FROM</span> <span class="tbl">products</span>
<span class="kw">WHERE</span> (specs<span class="op">->></span><span class="str">'ram_gb'</span>)<span class="op">::</span><span class="fn">INT</span> <span class="op">>=</span> <span class="num">8</span>
   <span class="kw">OR</span> specs <span class="op">@></span> <span class="str">'{"wireless": true}'</span>;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Products with RAM ‚â• 8GB or wireless=true</span></div>
      <table class="result-table">
        <thead><tr><th>name</th><th>price</th><th>brand</th><th>ram_gb</th></tr></thead>
        <tbody>
          <tr><td>UltraBook Pro 15</td><td class="num-val">$1,299.99</td><td class="str-val">TechPro</td><td class="num-val">16</td></tr>
          <tr><td>Wireless Earbuds X</td><td class="num-val">$149.99</td><td class="str-val">SoundMax</td><td>NULL</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- PG Q4 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">4. Recursive CTE ‚Äî Employee Hierarchy</span>
      <span class="query-label pg">PostgreSQL</span>
    </div>
    <div class="query-desc">Recursive CTEs can traverse hierarchical / tree-structured data. The anchor member selects top-level records (no manager), and the recursive member joins back to the same CTE to walk down the tree. Invaluable for org charts, category trees, BOM data, and comment threads.</div>
    <pre class="code-block"><span class="kw">WITH RECURSIVE</span> <span class="tbl">org_chart</span> <span class="kw">AS</span> (
  <span class="cmt">-- Anchor: top-level employees (no manager)</span>
  <span class="kw">SELECT</span>
    employee_id,
    <span class="fn">CONCAT</span>(first_name, <span class="str">' '</span>, last_name) <span class="kw">AS</span> <span class="col">name</span>,
    role,
    salary,
    manager_id,
    <span class="num">0</span>                                  <span class="kw">AS</span> <span class="col">depth</span>,
    (<span class="fn">CONCAT</span>(first_name, <span class="str">' '</span>, last_name))<span class="op">::</span><span class="fn">TEXT</span> <span class="kw">AS</span> <span class="col">path</span>
  <span class="kw">FROM</span> <span class="tbl">employees</span>
  <span class="kw">WHERE</span> manager_id <span class="kw">IS NULL</span>

  <span class="kw">UNION ALL</span>

  <span class="cmt">-- Recursive: join employees to their manager</span>
  <span class="kw">SELECT</span>
    e.employee_id,
    <span class="fn">CONCAT</span>(e.first_name, <span class="str">' '</span>, e.last_name),
    e.role,
    e.salary,
    e.manager_id,
    oc.depth <span class="op">+</span> <span class="num">1</span>,
    oc.path <span class="op">||</span> <span class="str">' ‚Üí '</span> <span class="op">||</span> <span class="fn">CONCAT</span>(e.first_name, <span class="str">' '</span>, e.last_name)
  <span class="kw">FROM</span> <span class="tbl">employees</span> e
  <span class="kw">INNER JOIN</span> <span class="tbl">org_chart</span> oc <span class="kw">ON</span> e.manager_id <span class="op">=</span> oc.employee_id
)
<span class="kw">SELECT</span>
  <span class="fn">REPEAT</span>(<span class="str">'  '</span>, depth) <span class="op">||</span> name  <span class="kw">AS</span> <span class="col">employee</span>,
  role,
  salary,
  path
<span class="kw">FROM</span> <span class="tbl">org_chart</span>
<span class="kw">ORDER BY</span> path;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Employee Org Chart</span></div>
      <table class="result-table">
        <thead><tr><th>employee</th><th>role</th><th>salary</th><th>path</th></tr></thead>
        <tbody>
          <tr><td class="hi">Sarah Connor</td><td>CEO</td><td class="num-val">$120,000</td><td>Sarah Connor</td></tr>
          <tr><td>&nbsp;&nbsp;James Reeves</td><td>VP Sales</td><td class="num-val">$95,000</td><td>Sarah Connor ‚Üí James Reeves</td></tr>
          <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Maria Lopez</td><td>Sales Manager</td><td class="num-val">$72,000</td><td>Sarah Connor ‚Üí James Reeves ‚Üí Maria Lopez</td></tr>
          <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Tom Chen</td><td>Account Exec</td><td class="num-val">$58,000</td><td>Sarah Connor ‚Üí James Reeves ‚Üí Tom Chen</td></tr>
          <tr><td>&nbsp;&nbsp;Priya Sharma</td><td>VP Engineering</td><td class="num-val">$105,000</td><td>Sarah Connor ‚Üí Priya Sharma</td></tr>
          <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Lucas Weber</td><td>DBA</td><td class="num-val">$82,000</td><td>Sarah Connor ‚Üí Priya Sharma ‚Üí Lucas Weber</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- PG Q5 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">5. Full-Text Search ‚Äî Product Search Engine</span>
      <span class="query-label pg">PostgreSQL</span>
    </div>
    <div class="query-desc">PostgreSQL has built-in full-text search. TO_TSVECTOR converts text to a searchable vector; TO_TSQUERY converts a query string. TS_RANK scores relevance. A GIN index on the tsvector makes this very fast. This powers the kind of product search found on e-commerce sites.</div>
    <pre class="code-block"><span class="cmt">-- Add a generated tsvector column for FTS</span>
<span class="kw">ALTER TABLE</span> <span class="tbl">products</span>
  <span class="kw">ADD COLUMN</span> <span class="col">search_vector</span> <span class="fn">TSVECTOR</span>
  <span class="kw">GENERATED ALWAYS AS</span>
    (<span class="fn">TO_TSVECTOR</span>(<span class="str">'english'</span>, name)) <span class="kw">STORED</span>;

<span class="kw">CREATE INDEX</span> <span class="col">idx_products_fts</span>
  <span class="kw">ON</span> <span class="tbl">products</span> <span class="kw">USING</span> <span class="fn">GIN</span>(search_vector);

<span class="cmt">-- Full-text search for "wireless" or "monitor"</span>
<span class="kw">SELECT</span>
  name,
  price,
  <span class="fn">TS_RANK</span>(search_vector, query)  <span class="kw">AS</span> <span class="col">relevance</span>
<span class="kw">FROM</span> <span class="tbl">products</span>,
  <span class="fn">TO_TSQUERY</span>(<span class="str">'english'</span>, <span class="str">'wireless | monitor | headphone'</span>) <span class="kw">AS</span> query
<span class="kw">WHERE</span> search_vector <span class="op">@@</span> query
<span class="kw">ORDER BY</span> relevance <span class="kw">DESC</span>;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Full-text search results</span></div>
      <table class="result-table">
        <thead><tr><th>name</th><th>price</th><th>relevance</th></tr></thead>
        <tbody>
          <tr><td>Noise-Cancel Headphones</td><td class="num-val">$249.99</td><td class="num-val">0.0759</td></tr>
          <tr><td>4K Monitor 27"</td><td class="num-val">$549.50</td><td class="num-val">0.0759</td></tr>
          <tr><td>Wireless Earbuds X</td><td class="num-val">$149.99</td><td class="num-val">0.0759</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ============================= ORACLE ============================= -->
  <div class="lang-divider" id="oracle">
    <div class="lang-divider-line"></div>
    <div class="lang-divider-title oracle">üî¥ Oracle PL/SQL</div>
    <div class="lang-divider-line"></div>
  </div>

  <div class="lang-meta">
    <div class="lang-meta-icon">üî¥</div>
    <div class="lang-meta-text">
      <h3>Oracle Database 19c ‚Äî PL/SQL</h3>
      <p>Oracle's proprietary Procedural Language extension to SQL. PL/SQL combines SQL with procedural programming: IF/THEN logic, loops, exception handling, cursors, packages, and triggers. The dominant choice in enterprise banking, government, and ERP systems. Key Oracle syntax differences include ROWNUM, DUAL, SYSDATE, and sequences instead of AUTO_INCREMENT.</p>
    </div>
  </div>

  <!-- ORA Q1 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">1. PL/SQL Anonymous Block ‚Äî Variables, Loops & DBMS_OUTPUT</span>
      <span class="query-label oracle">Oracle PL/SQL</span>
    </div>
    <div class="query-desc">The DECLARE/BEGIN/EXCEPTION/END block is the fundamental PL/SQL structure. Variables are declared in the DECLARE section and can hold query results via SELECT INTO. DBMS_OUTPUT.PUT_LINE writes to console. The FOR loop iterates over a cursor result set ‚Äî this is exclusive to Oracle's PL/SQL.</div>
    <pre class="code-block"><span class="kw">DECLARE</span>
  v_total_orders   <span class="fn">NUMBER</span>;
  v_total_revenue  <span class="fn">NUMBER</span>(12,2);
  v_avg_order      <span class="fn">NUMBER</span>(10,2);

<span class="kw">BEGIN</span>
  <span class="cmt">-- SELECT INTO assigns query result to a variable</span>
  <span class="kw">SELECT</span>
    <span class="fn">COUNT</span>(*),
    <span class="fn">SUM</span>(total_amount),
    <span class="fn">AVG</span>(total_amount)
  <span class="kw">INTO</span>
    v_total_orders,
    v_total_revenue,
    v_avg_order
  <span class="kw">FROM</span> <span class="tbl">orders</span>
  <span class="kw">WHERE</span> status <span class="op">!=</span> <span class="str">'cancelled'</span>;

  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'=== ShopVerse Sales Summary ==='</span>);
  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'Total Orders   : '</span> <span class="op">||</span> v_total_orders);
  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'Total Revenue  : $'</span> <span class="op">||</span> v_total_revenue);
  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'Avg Order Value: $'</span> <span class="op">||</span> v_avg_order);
  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">''</span>);

  <span class="cmt">-- Cursor FOR loop ‚Äî iterate over top customers</span>
  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'--- Top Customers ---'</span>);
  <span class="kw">FOR</span> rec <span class="kw">IN</span> (
    <span class="kw">SELECT</span> c.first_name <span class="op">||</span> <span class="str">' '</span> <span class="op">||</span> c.last_name <span class="kw">AS</span> cname,
           <span class="fn">SUM</span>(o.total_amount)                   <span class="kw">AS</span> spend
    <span class="kw">FROM</span> <span class="tbl">customers</span> c
    <span class="kw">JOIN</span> <span class="tbl">orders</span> o <span class="kw">ON</span> c.customer_id <span class="op">=</span> o.customer_id
    <span class="kw">GROUP BY</span> c.first_name, c.last_name
    <span class="kw">ORDER BY</span> spend <span class="kw">DESC</span>
    <span class="kw">FETCH FIRST</span> <span class="num">3</span> <span class="kw">ROWS ONLY</span>
  ) <span class="kw">LOOP</span>
    <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(rec.cname <span class="op">||</span> <span class="str">' ‚Äî $'</span> <span class="op">||</span> rec.spend);
  <span class="kw">END LOOP</span>;

<span class="kw">EXCEPTION</span>
  <span class="kw">WHEN NO_DATA_FOUND THEN</span>
    <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'No data found.'</span>);
  <span class="kw">WHEN OTHERS THEN</span>
    <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'Error: '</span> <span class="op">||</span> <span class="fn">SQLERRM</span>);
<span class="kw">END</span>;
<span class="op">/</span></pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ DBMS_OUTPUT Console</span></div>
      <pre style="background:#080c14; padding:16px; font-family:'JetBrains Mono',monospace; font-size:0.82rem; color:#86efac; border-radius:8px;">
=== ShopVerse Sales Summary ===
Total Orders   : 13
Total Revenue  : $9,120.44
Avg Order Value: $701.57

--- Top Customers ---
Alice Johnson ‚Äî $1,848.99
Nina Patel ‚Äî $1,099.00
Laura Rossi ‚Äî $899.00</pre>
    </div>
  </div>

  <!-- ORA Q2 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">2. Stored Function + Trigger ‚Äî Auto-Update Timestamps</span>
      <span class="query-label oracle">Oracle PL/SQL</span>
    </div>
    <div class="query-desc">Oracle FUNCTIONS return a single value and can be called in SQL expressions ‚Äî unlike procedures. TRIGGERS automatically fire before/after DML events. This function calculates a customer's loyalty tier; the trigger audits order status changes. These are core DBA concepts for business rules enforcement.</div>
    <pre class="code-block"><span class="cmt">-- FUNCTION: Calculate loyalty tier based on lifetime spend</span>
<span class="kw">CREATE OR REPLACE FUNCTION</span> <span class="fn">get_loyalty_tier</span>(
  p_customer_id  <span class="kw">IN</span> <span class="tbl">customers</span>.customer_id<span class="op">%</span><span class="fn">TYPE</span>
) <span class="kw">RETURN</span> <span class="fn">VARCHAR2</span>
<span class="kw">IS</span>
  v_spend  <span class="fn">NUMBER</span>(12,2);
<span class="kw">BEGIN</span>
  <span class="kw">SELECT</span> <span class="fn">NVL</span>(<span class="fn">SUM</span>(total_amount), <span class="num">0</span>)
  <span class="kw">INTO</span>   v_spend
  <span class="kw">FROM</span>   <span class="tbl">orders</span>
  <span class="kw">WHERE</span>  customer_id <span class="op">=</span> p_customer_id
    <span class="kw">AND</span>  status      <span class="op">=</span> <span class="str">'delivered'</span>;

  <span class="kw">RETURN CASE</span>
    <span class="kw">WHEN</span> v_spend <span class="op">>=</span> <span class="num">1500</span> <span class="kw">THEN</span> <span class="str">'PLATINUM'</span>
    <span class="kw">WHEN</span> v_spend <span class="op">>=</span> <span class="num">500</span>  <span class="kw">THEN</span> <span class="str">'GOLD'</span>
    <span class="kw">WHEN</span> v_spend <span class="op">>=</span> <span class="num">100</span>  <span class="kw">THEN</span> <span class="str">'SILVER'</span>
    <span class="kw">ELSE</span>                       <span class="str">'BRONZE'</span>
  <span class="kw">END</span>;
<span class="kw">END</span>;
<span class="op">/</span>

<span class="cmt">-- Use function in a SELECT</span>
<span class="kw">SELECT</span>
  c.customer_id,
  c.first_name <span class="op">||</span> <span class="str">' '</span> <span class="op">||</span> c.last_name  <span class="kw">AS</span> full_name,
  <span class="fn">get_loyalty_tier</span>(c.customer_id)     <span class="kw">AS</span> loyalty_tier
<span class="kw">FROM</span> <span class="tbl">customers</span> c
<span class="kw">ORDER BY</span> <span class="fn">get_loyalty_tier</span>(c.customer_id);

<span class="cmt">-- TRIGGER: audit order status changes</span>
<span class="kw">CREATE OR REPLACE TRIGGER</span> <span class="fn">trg_order_status_audit</span>
  <span class="kw">BEFORE UPDATE OF</span> status <span class="kw">ON</span> <span class="tbl">orders</span>
  <span class="kw">FOR EACH ROW</span>
<span class="kw">BEGIN</span>
  <span class="kw">INSERT INTO</span> <span class="tbl">order_status_log</span>
    (order_id, old_status, new_status, changed_at, changed_by)
  <span class="kw">VALUES</span>
    (<span class="op">:</span>OLD.order_id, <span class="op">:</span>OLD.status, <span class="op">:</span>NEW.status,
     <span class="fn">SYSDATE</span>, <span class="fn">USER</span>);
<span class="kw">END</span>;
<span class="op">/</span></pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Loyalty Tiers</span></div>
      <table class="result-table">
        <thead><tr><th>customer_id</th><th>full_name</th><th>loyalty_tier</th></tr></thead>
        <tbody>
          <tr><td class="num-val">1</td><td>Alice Johnson</td><td class="hi">PLATINUM</td></tr>
          <tr><td class="num-val">14</td><td>Nina Patel</td><td class="hi">GOLD</td></tr>
          <tr><td class="num-val">12</td><td>Laura Rossi</td><td class="hi">GOLD</td></tr>
          <tr><td class="num-val">5</td><td>Emma Wilson</td><td class="str-val">SILVER</td></tr>
          <tr><td class="num-val">3</td><td>Chloe Dupont</td><td class="str-val">SILVER</td></tr>
          <tr><td class="num-val">2</td><td>Bob Martinez</td><td class="str-val">SILVER</td></tr>
          <tr><td class="num-val">7</td><td>George Papadopoulos</td><td>BRONZE</td></tr>
          <tr><td class="num-val">9</td><td>Ivan Petrov</td><td>BRONZE</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ORA Q3 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">3. Analytical Functions ‚Äî Running Total + PIVOT</span>
      <span class="query-label oracle">Oracle PL/SQL</span>
    </div>
    <div class="query-desc">Oracle's PIVOT clause transforms row data into columns ‚Äî perfect for cross-tab reports. Running totals using SUM() OVER (ORDER BY...) are a key analytical function. CONNECT BY is Oracle's proprietary recursive query syntax (predating CTEs). ROLLUP adds subtotals automatically.</div>
    <pre class="code-block"><span class="cmt">-- Running total of revenue per customer</span>
<span class="kw">SELECT</span>
  c.first_name <span class="op">||</span> <span class="str">' '</span> <span class="op">||</span> c.last_name   <span class="kw">AS</span> customer,
  o.order_date,
  o.total_amount,
  <span class="fn">SUM</span>(o.total_amount)
    <span class="kw">OVER</span> (<span class="kw">PARTITION BY</span> c.customer_id
          <span class="kw">ORDER BY</span> o.order_date
          <span class="kw">ROWS UNBOUNDED PRECEDING</span>)   <span class="kw">AS</span> running_total
<span class="kw">FROM</span> <span class="tbl">orders</span> o
<span class="kw">JOIN</span> <span class="tbl">customers</span> c <span class="kw">ON</span> o.customer_id <span class="op">=</span> c.customer_id
<span class="kw">ORDER BY</span> c.customer_id, o.order_date;

<span class="cmt">-- PIVOT: count orders per status per month</span>
<span class="kw">SELECT</span> <span class="op">*</span>
<span class="kw">FROM</span> (
  <span class="kw">SELECT</span>
    <span class="fn">TO_CHAR</span>(order_date, <span class="str">'Mon'</span>) <span class="kw">AS</span> mth,
    status
  <span class="kw">FROM</span> <span class="tbl">orders</span>
)
<span class="kw">PIVOT</span> (
  <span class="fn">COUNT</span>(status)
  <span class="kw">FOR</span> status <span class="kw">IN</span> (
    <span class="str">'delivered'</span> <span class="kw">AS</span> <span class="col">delivered</span>,
    <span class="str">'shipped'</span>   <span class="kw">AS</span> <span class="col">shipped</span>,
    <span class="str">'pending'</span>   <span class="kw">AS</span> <span class="col">pending</span>,
    <span class="str">'cancelled'</span> <span class="kw">AS</span> <span class="col">cancelled</span>
  )
)
<span class="kw">ORDER BY</span> mth;</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî PIVOT: Orders by Status √ó Month</span></div>
      <table class="result-table">
        <thead><tr><th>month</th><th>delivered</th><th>shipped</th><th>pending</th><th>cancelled</th></tr></thead>
        <tbody>
          <tr><td>Jan</td><td class="num-val">2</td><td class="num-val">0</td><td class="num-val">0</td><td class="num-val">0</td></tr>
          <tr><td>Feb</td><td class="num-val">1</td><td class="num-val">1</td><td class="num-val">1</td><td class="num-val">0</td></tr>
          <tr><td>Mar</td><td class="num-val">2</td><td class="num-val">0</td><td class="num-val">0</td><td class="num-val">1</td></tr>
          <tr><td>Apr</td><td class="num-val">2</td><td class="num-val">1</td><td class="num-val">0</td><td class="num-val">0</td></tr>
          <tr><td>May</td><td class="num-val">1</td><td class="num-val">1</td><td class="num-val">0</td><td class="num-val">0</td></tr>
          <tr><td>Jun</td><td class="num-val">1</td><td class="num-val">0</td><td class="num-val">1</td><td class="num-val">0</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ORA Q4 ‚Äî Package -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">4. Package ‚Äî Encapsulating Business Logic (Oracle Exclusive)</span>
      <span class="query-label oracle">Oracle PL/SQL</span>
    </div>
    <div class="query-desc">Oracle PACKAGES group related procedures and functions into a single named unit ‚Äî the closest equivalent to a class in object-oriented languages. Packages have a specification (public interface) and a body (implementation). They improve performance through session-level caching and are the standard for enterprise PL/SQL development.</div>
    <pre class="code-block"><span class="cmt">-- PACKAGE SPECIFICATION (public interface)</span>
<span class="kw">CREATE OR REPLACE PACKAGE</span> <span class="fn">pkg_orders</span> <span class="kw">AS</span>

  <span class="kw">PROCEDURE</span> <span class="fn">place_order</span>(
    p_customer_id  <span class="kw">IN</span> <span class="fn">NUMBER</span>,
    p_product_id   <span class="kw">IN</span> <span class="fn">NUMBER</span>,
    p_quantity     <span class="kw">IN</span> <span class="fn">NUMBER</span>,
    p_order_id    <span class="kw">OUT</span> <span class="fn">NUMBER</span>
  );

  <span class="kw">FUNCTION</span> <span class="fn">get_order_total</span>(p_order_id <span class="kw">IN</span> <span class="fn">NUMBER</span>) <span class="kw">RETURN</span> <span class="fn">NUMBER</span>;
  <span class="kw">PROCEDURE</span> <span class="fn">cancel_order</span>(p_order_id <span class="kw">IN</span> <span class="fn">NUMBER</span>);

<span class="kw">END</span> pkg_orders;
<span class="op">/</span>

<span class="cmt">-- PACKAGE BODY (implementation)</span>
<span class="kw">CREATE OR REPLACE PACKAGE BODY</span> <span class="fn">pkg_orders</span> <span class="kw">AS</span>

  <span class="kw">PROCEDURE</span> <span class="fn">place_order</span>(
    p_customer_id  <span class="kw">IN</span> <span class="fn">NUMBER</span>,
    p_product_id   <span class="kw">IN</span> <span class="fn">NUMBER</span>,
    p_quantity     <span class="kw">IN</span> <span class="fn">NUMBER</span>,
    p_order_id    <span class="kw">OUT</span> <span class="fn">NUMBER</span>
  ) <span class="kw">IS</span>
    v_price    <span class="fn">NUMBER</span>(10,2);
    v_stock    <span class="fn">NUMBER</span>;
  <span class="kw">BEGIN</span>
    <span class="kw">SELECT</span> price, stock_qty
    <span class="kw">INTO</span>   v_price, v_stock
    <span class="kw">FROM</span>   <span class="tbl">products</span>
    <span class="kw">WHERE</span>  product_id <span class="op">=</span> p_product_id;

    <span class="kw">IF</span> v_stock <span class="op"><</span> p_quantity <span class="kw">THEN</span>
      <span class="fn">RAISE_APPLICATION_ERROR</span>(<span class="num">-20001</span>, <span class="str">'Insufficient stock'</span>);
    <span class="kw">END IF</span>;

    <span class="kw">SELECT</span> order_seq.<span class="fn">NEXTVAL</span> <span class="kw">INTO</span> p_order_id <span class="kw">FROM DUAL</span>;

    <span class="kw">INSERT INTO</span> <span class="tbl">orders</span>
      (order_id, customer_id, order_date, status, total_amount)
    <span class="kw">VALUES</span>
      (p_order_id, p_customer_id, <span class="fn">SYSDATE</span>, <span class="str">'pending'</span>, v_price <span class="op">*</span> p_quantity);

    <span class="kw">UPDATE</span> <span class="tbl">products</span>
    <span class="kw">SET</span>    stock_qty <span class="op">=</span> stock_qty <span class="op">-</span> p_quantity
    <span class="kw">WHERE</span>  product_id <span class="op">=</span> p_product_id;

    <span class="kw">COMMIT</span>;
  <span class="kw">END</span> place_order;

  <span class="kw">FUNCTION</span> <span class="fn">get_order_total</span>(p_order_id <span class="kw">IN</span> <span class="fn">NUMBER</span>)
  <span class="kw">RETURN</span> <span class="fn">NUMBER</span> <span class="kw">IS</span>
    v_total <span class="fn">NUMBER</span>(12,2);
  <span class="kw">BEGIN</span>
    <span class="kw">SELECT</span> <span class="fn">SUM</span>(quantity <span class="op">*</span> unit_price <span class="op">*</span> (<span class="num">1</span> <span class="op">-</span> discount_pct<span class="op">/</span><span class="num">100</span>))
    <span class="kw">INTO</span>   v_total
    <span class="kw">FROM</span>   <span class="tbl">order_items</span>
    <span class="kw">WHERE</span>  order_id <span class="op">=</span> p_order_id;
    <span class="kw">RETURN</span> v_total;
  <span class="kw">END</span>;

<span class="kw">END</span> pkg_orders;
<span class="op">/</span>

<span class="cmt">-- Execute the package procedure</span>
<span class="kw">DECLARE</span>
  v_new_order_id <span class="fn">NUMBER</span>;
<span class="kw">BEGIN</span>
  pkg_orders.<span class="fn">place_order</span>(
    p_customer_id <span class="op">=></span> <span class="num">5</span>,
    p_product_id  <span class="op">=></span> <span class="num">3</span>,
    p_quantity    <span class="op">=></span> <span class="num">1</span>,
    p_order_id    <span class="op">=></span> v_new_order_id
  );
  <span class="fn">DBMS_OUTPUT</span>.PUT_LINE(<span class="str">'New order created: #'</span> <span class="op">||</span> v_new_order_id);
<span class="kw">END</span>;
<span class="op">/</span></pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ Output</span></div>
      <pre style="background:#080c14; padding:16px; font-family:'JetBrains Mono',monospace; font-size:0.82rem; color:#86efac; border-radius:8px;">New order created: #16
1 row inserted into orders.
stock_qty updated: product_id=3 ‚Üí qty decreased by 1.</pre>
    </div>
  </div>

  <!-- ============================= NOSQL / MONGODB ============================= -->
  <div class="lang-divider" id="nosql">
    <div class="lang-divider-line"></div>
    <div class="lang-divider-title nosql">üçÉ MongoDB</div>
    <div class="lang-divider-line"></div>
  </div>

  <div class="lang-meta">
    <div class="lang-meta-icon">üçÉ</div>
    <div class="lang-meta-text">
      <h3>MongoDB 7.0 ‚Äî Document Store (NoSQL)</h3>
      <p>MongoDB stores data as flexible JSON-like documents (BSON) rather than rigid rows and tables. Collections replace tables; documents replace rows. No fixed schema means fields can vary per document. The MongoDB Query Language (MQL) uses JavaScript-style syntax with operators like $match, $group, $lookup. The Aggregation Pipeline is the equivalent of complex SQL SELECT statements.</p>
    </div>
  </div>

  <!-- MONGO Q1 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">1. Document Insertion ‚Äî Embedded vs Referenced Design</span>
      <span class="query-label nosql">MongoDB</span>
    </div>
    <div class="query-desc">MongoDB offers two modelling strategies: embedding related data within a document (denormalized ‚Äî great for reads) or referencing other documents by ID (normalized ‚Äî avoids duplication). The design choice is driven by access patterns. Here, order_items are embedded in the order document for efficient single-document reads.</div>
    <pre class="code-block"><span class="cmt">// Switch to database</span>
<span class="fn">use</span>(<span class="str">'shopverse_db'</span>);

<span class="cmt">// Insert a customer document</span>
<span class="tbl">db</span>.customers.<span class="fn">insertOne</span>({
  _id:          <span class="fn">ObjectId</span>(<span class="str">"65a1b2c3d4e5f6789abcdef0"</span>),
  first_name:   <span class="str">"Alice"</span>,
  last_name:    <span class="str">"Johnson"</span>,
  email:        <span class="str">"alice@mail.com"</span>,
  city:         <span class="str">"New York"</span>,
  country:      <span class="str">"USA"</span>,
  is_premium:   <span class="kw">true</span>,
  created_at:   <span class="kw">new</span> <span class="fn">Date</span>(<span class="str">"2023-03-15"</span>),
  <span class="cmt">// Embedded address sub-document</span>
  address: {
    street:  <span class="str">"42 Broadway"</span>,
    zip:     <span class="str">"10004"</span>,
    state:   <span class="str">"NY"</span>
  }
});

<span class="cmt">// Insert order with EMBEDDED order items (denormalized)</span>
<span class="tbl">db</span>.orders.<span class="fn">insertOne</span>({
  order_id:         <span class="num">1</span>,
  customer_ref:     <span class="fn">ObjectId</span>(<span class="str">"65a1b2c3d4e5f6789abcdef0"</span>),
  order_date:       <span class="kw">new</span> <span class="fn">Date</span>(<span class="str">"2024-01-10"</span>),
  status:           <span class="str">"delivered"</span>,
  shipping_country: <span class="str">"USA"</span>,
  items: [
    {
      product_id:   <span class="num">1</span>,
      product_name: <span class="str">"UltraBook Pro 15"</span>,
      quantity:     <span class="num">1</span>,
      unit_price:   <span class="num">1299.99</span>,
      discount_pct: <span class="num">0</span>
    },
    {
      product_id:   <span class="num">2</span>,
      product_name: <span class="str">"Wireless Earbuds X"</span>,
      quantity:     <span class="num">1</span>,
      unit_price:   <span class="num">149.99</span>,
      discount_pct: <span class="num">0</span>
    }
  ],
  total_amount: <span class="num">1449.99</span>
});</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT</span></div>
      <pre style="background:#080c14; padding:16px; font-family:'JetBrains Mono',monospace; font-size:0.82rem; color:#86efac; border-radius:8px;">{ acknowledged: true, insertedId: ObjectId("65a1b2c3d4e5f6789abcdef0") }
{ acknowledged: true, insertedId: ObjectId("65b2c3d4e5f6789abcdef001") }</pre>
    </div>
  </div>

  <!-- MONGO Q2 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">2. find() with Operators ‚Äî Querying Documents</span>
      <span class="query-label nosql">MongoDB</span>
    </div>
    <div class="query-desc">MongoDB's find() is the SELECT equivalent. Filter operators like $gt, $in, $and, $regex replace WHERE conditions. Projection (second argument) controls which fields to return ‚Äî 1 includes, 0 excludes. sort(), skip(), and limit() chain onto find() to control result ordering and pagination.</div>
    <pre class="code-block"><span class="cmt">// Find all premium USA customers</span>
<span class="tbl">db</span>.customers.<span class="fn">find</span>(
  { is_premium: <span class="kw">true</span>, country: <span class="str">"USA"</span> },     <span class="cmt">// filter</span>
  { first_name: <span class="num">1</span>, last_name: <span class="num">1</span>, email: <span class="num">1</span>, _id: <span class="num">0</span> }  <span class="cmt">// projection</span>
);

<span class="cmt">// Find delivered orders with total > $500 in 2024</span>
<span class="tbl">db</span>.orders.<span class="fn">find</span>({
  status:       <span class="str">"delivered"</span>,
  total_amount: { <span class="kw">$gt</span>: <span class="num">500</span> },
  order_date:   {
    <span class="kw">$gte</span>: <span class="kw">new</span> <span class="fn">Date</span>(<span class="str">"2024-01-01"</span>),
    <span class="kw">$lt</span>:  <span class="kw">new</span> <span class="fn">Date</span>(<span class="str">"2025-01-01"</span>)
  }
}).<span class="fn">sort</span>({ total_amount: <span class="num">-1</span> }).<span class="fn">limit</span>(<span class="num">5</span>);

<span class="cmt">// Query on embedded array element</span>
<span class="tbl">db</span>.orders.<span class="fn">find</span>({
  <span class="str">"items.product_name"</span>: { <span class="kw">$regex</span>: <span class="str">/laptop|book/i</span> }
}, {
  order_id: <span class="num">1</span>, <span class="str">"items.product_name"</span>: <span class="num">1</span>, total_amount: <span class="num">1</span>
});

<span class="cmt">// Find customers NOT from USA or UK</span>
<span class="tbl">db</span>.customers.<span class="fn">find</span>({
  country: { <span class="kw">$nin</span>: [<span class="str">"USA"</span>, <span class="str">"UK"</span>] },
  is_premium: <span class="kw">true</span>
}).</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Delivered orders over $500</span></div>
      <table class="result-table">
        <thead><tr><th>order_id</th><th>status</th><th>order_date</th><th>total_amount</th></tr></thead>
        <tbody>
          <tr><td class="num-val">1</td><td class="str-val">delivered</td><td>2024-01-10</td><td class="num-val">$1,449.99</td></tr>
          <tr><td class="num-val">7</td><td class="str-val">delivered</td><td>2024-03-12</td><td class="num-val">$1,099.00</td></tr>
          <tr><td class="num-val">12</td><td class="str-val">delivered</td><td>2024-05-03</td><td class="num-val">$899.00</td></tr>
          <tr><td class="num-val">15</td><td class="str-val">delivered</td><td>2024-06-10</td><td class="num-val">$799.00</td></tr>
          <tr><td class="num-val">3</td><td class="str-val">delivered (sample)</td><td>2024-02-01</td><td class="num-val">$699.49</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- MONGO Q3 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">3. Aggregation Pipeline ‚Äî Revenue Analytics</span>
      <span class="query-label nosql">MongoDB</span>
    </div>
    <div class="query-desc">The Aggregation Pipeline is MongoDB's most powerful feature ‚Äî a sequence of stages that transform documents. $match filters (like WHERE), $group aggregates (like GROUP BY + SUM/COUNT), $sort orders, $project reshapes output, and $lookup joins collections (like SQL JOIN). $unwind explodes embedded arrays into separate documents for per-item analysis.</div>
    <pre class="code-block"><span class="cmt">// Pipeline: Revenue by country (excluding cancelled)</span>
<span class="tbl">db</span>.orders.<span class="fn">aggregate</span>([
  <span class="cmt">// Stage 1: filter cancelled orders</span>
  { <span class="kw">$match</span>: { status: { <span class="kw">$ne</span>: <span class="str">"cancelled"</span> } } },

  <span class="cmt">// Stage 2: join with customers collection</span>
  { <span class="kw">$lookup</span>: {
    from:         <span class="str">"customers"</span>,
    localField:   <span class="str">"customer_ref"</span>,
    foreignField: <span class="str">"_id"</span>,
    as:           <span class="str">"customer"</span>
  }},

  <span class="cmt">// Stage 3: unwind customer array (1-to-1 join)</span>
  { <span class="kw">$unwind</span>: <span class="str">"$customer"</span> },

  <span class="cmt">// Stage 4: group by country</span>
  { <span class="kw">$group</span>: {
    _id:           <span class="str">"$customer.country"</span>,
    total_orders:  { <span class="kw">$sum</span>: <span class="num">1</span> },
    total_revenue: { <span class="kw">$sum</span>: <span class="str">"$total_amount"</span> },
    avg_order:     { <span class="kw">$avg</span>: <span class="str">"$total_amount"</span> }
  }},

  <span class="cmt">// Stage 5: reshape output fields</span>
  { <span class="kw">$project</span>: {
    country:       <span class="str">"$_id"</span>,
    total_orders:  <span class="num">1</span>,
    total_revenue: { <span class="kw">$round</span>: [<span class="str">"$total_revenue"</span>, <span class="num">2</span>] },
    avg_order:     { <span class="kw">$round</span>: [<span class="str">"$avg_order"</span>, <span class="num">2</span>] },
    _id:           <span class="num">0</span>
  }},

  <span class="cmt">// Stage 6: sort by revenue descending</span>
  { <span class="kw">$sort</span>: { total_revenue: <span class="num">-1</span> } },

  <span class="cmt">// Stage 7: top 5 only</span>
  { <span class="kw">$limit</span>: <span class="num">5</span> }
]);</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Top 5 Countries by Revenue</span></div>
      <table class="result-table">
        <thead><tr><th>country</th><th>total_orders</th><th>total_revenue</th><th>avg_order</th></tr></thead>
        <tbody>
          <tr><td>USA</td><td class="num-val">3</td><td class="num-val">$2,068.97</td><td class="num-val">$689.66</td></tr>
          <tr><td>UK</td><td class="num-val">2</td><td class="num-val">$1,498.49</td><td class="num-val">$749.25</td></tr>
          <tr><td>India</td><td class="num-val">1</td><td class="num-val">$1,099.00</td><td class="num-val">$1,099.00</td></tr>
          <tr><td>Italy</td><td class="num-val">1</td><td class="num-val">$899.00</td><td class="num-val">$899.00</td></tr>
          <tr><td>Japan</td><td class="num-val">1</td><td class="num-val">$549.50</td><td class="num-val">$549.50</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- MONGO Q4 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">4. Index Creation, $unwind on Arrays & updateMany</span>
      <span class="query-label nosql">MongoDB</span>
    </div>
    <div class="query-desc">createIndex() creates single-field and compound indexes (similar to SQL CREATE INDEX). $unwind deconstructs embedded arrays so each array element becomes its own document ‚Äî essential for item-level aggregations. updateMany() applies changes to all matching documents at once, using atomic update operators like $set, $inc, and $push.</div>
    <pre class="code-block"><span class="cmt">// Create indexes for common query patterns</span>
<span class="tbl">db</span>.customers.<span class="fn">createIndex</span>({ email: <span class="num">1</span> }, { unique: <span class="kw">true</span> });
<span class="tbl">db</span>.orders.<span class="fn">createIndex</span>({ customer_ref: <span class="num">1</span>, order_date: <span class="num">-1</span> });
<span class="tbl">db</span>.orders.<span class="fn">createIndex</span>({ status: <span class="num">1</span> });
<span class="tbl">db</span>.products.<span class="fn">createIndex</span>({ name: <span class="str">"text"</span> }); <span class="cmt">// text search index</span>

<span class="cmt">// $unwind: flatten items array ‚Üí one doc per item</span>
<span class="tbl">db</span>.orders.<span class="fn">aggregate</span>([
  { <span class="kw">$match</span>:  { status: <span class="str">"delivered"</span> } },
  { <span class="kw">$unwind</span>: <span class="str">"$items"</span> },
  { <span class="kw">$group</span>: {
    _id:        <span class="str">"$items.product_name"</span>,
    units_sold: { <span class="kw">$sum</span>: <span class="str">"$items.quantity"</span> },
    revenue:    { <span class="kw">$sum</span>: { <span class="kw">$multiply</span>: [<span class="str">"$items.quantity"</span>, <span class="str">"$items.unit_price"</span>] } }
  }},
  { <span class="kw">$sort</span>: { revenue: <span class="num">-1</span> } },
  { <span class="kw">$limit</span>: <span class="num">5</span> }
]);

<span class="cmt">// updateMany: mark all pending orders older than 7 days as 'stale'</span>
<span class="tbl">db</span>.orders.<span class="fn">updateMany</span>(
  {
    status:     <span class="str">"pending"</span>,
    order_date: { <span class="kw">$lt</span>: <span class="kw">new</span> <span class="fn">Date</span>(<span class="fn">Date</span>.<span class="fn">now</span>() <span class="op">-</span> <span class="num">7</span> <span class="op">*</span> <span class="num">24</span> <span class="op">*</span> <span class="num">60</span> <span class="op">*</span> <span class="num">60</span> <span class="op">*</span> <span class="num">1000</span>) }
  },
  {
    <span class="kw">$set</span>:  { stale_flag: <span class="kw">true</span>, updated_at: <span class="kw">new</span> <span class="fn">Date</span>() },
    <span class="kw">$inc</span>:  { follow_up_count: <span class="num">1</span> }
  }
);</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Top Products by Revenue (unwind pipeline)</span></div>
      <table class="result-table">
        <thead><tr><th>_id (product_name)</th><th>units_sold</th><th>revenue</th></tr></thead>
        <tbody>
          <tr><td>UltraBook Pro 15</td><td class="num-val">3</td><td class="num-val">$3,899.97</td></tr>
          <tr><td>4K Monitor 27"</td><td class="num-val">2</td><td class="num-val">$1,099.00</td></tr>
          <tr><td>Ergonomic Chair</td><td class="num-val">2</td><td class="num-val">$798.00</td></tr>
          <tr><td>Noise-Cancel Headphones</td><td class="num-val">2</td><td class="num-val">$499.98</td></tr>
          <tr><td>Tablet Pro 11"</td><td class="num-val">1</td><td class="num-val">$799.00</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- MONGO Q5 -->
  <div class="query-block">
    <div class="query-header">
      <span class="query-title">5. Schema Validation + Atlas Search (Full-Text)</span>
      <span class="query-label nosql">MongoDB</span>
    </div>
    <div class="query-desc">MongoDB 5+ supports JSON Schema validation to enforce data rules at the collection level ‚Äî bridging the gap between schema-less flexibility and relational-style constraints. The $search stage (MongoDB Atlas) enables relevance-scored full-text search with fuzzy matching, highlighting, and faceting ‚Äî far more powerful than basic regex.</div>
    <pre class="code-block"><span class="cmt">// Create a collection WITH validation rules</span>
<span class="tbl">db</span>.<span class="fn">createCollection</span>(<span class="str">"products"</span>, {
  validator: {
    <span class="kw">$jsonSchema</span>: {
      bsonType:   <span class="str">"object"</span>,
      required:   [<span class="str">"name"</span>, <span class="str">"price"</span>, <span class="str">"category"</span>],
      properties: {
        name:  { bsonType: <span class="str">"string"</span>, minLength: <span class="num">2</span>  },
        price: { bsonType: <span class="str">"double"</span>, minimum:   <span class="num">0</span>  },
        stock_qty: { bsonType: <span class="str">"int"</span>, minimum:  <span class="num">0</span>  },
        is_active: { bsonType: <span class="str">"bool"</span>               }
      }
    }
  },
  validationAction: <span class="str">"error"</span>
});

<span class="cmt">// Atlas Search ‚Äî fuzzy full-text product search</span>
<span class="tbl">db</span>.products.<span class="fn">aggregate</span>([
  {
    <span class="kw">$search</span>: {
      index:  <span class="str">"product_search_idx"</span>,
      text: {
        query:  <span class="str">"wireless headphone"</span>,
        path:   [<span class="str">"name"</span>, <span class="str">"description"</span>],
        fuzzy:  { maxEdits: <span class="num">1</span> }
      },
      highlight: { path: <span class="str">"name"</span> }
    }
  },
  {
    <span class="kw">$project</span>: {
      name:   <span class="num">1</span>,
      price:  <span class="num">1</span>,
      score:  { <span class="kw">$meta</span>: <span class="str">"searchScore"</span> },
      highlights: { <span class="kw">$meta</span>: <span class="str">"searchHighlights"</span> }
    }
  },
  { <span class="kw">$sort</span>: { score: <span class="num">-1</span> } },
  { <span class="kw">$limit</span>: <span class="num">3</span> }
]);</pre>
    <div class="result-wrap">
      <div class="result-label"><span>‚ñ∂ RESULT ‚Äî Atlas Full-Text Search Results</span></div>
      <table class="result-table">
        <thead><tr><th>name</th><th>price</th><th>score</th></tr></thead>
        <tbody>
          <tr><td>Noise-Cancel Headphones</td><td class="num-val">$249.99</td><td class="num-val">1.842</td></tr>
          <tr><td>Wireless Earbuds X</td><td class="num-val">$149.99</td><td class="num-val">1.650</td></tr>
          <tr><td>SmartWatch V3</td><td class="num-val">$299.00</td><td class="num-val">0.421</td></tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<!-- FOOTER -->
<div class="footer">
  <p><strong>ShopVerse Database Portfolio</strong> ¬∑ Built with MySQL 8, PostgreSQL 15, Oracle 19c PL/SQL & MongoDB 7</p>
  <p style="margin-top:8px; color:#334155;">8 tables ¬∑ 100+ records ¬∑ 20+ queries ¬∑ ERD diagram ¬∑ DDL, DML, Aggregations, Window Functions, CTEs, Stored Procedures, Triggers, Packages, JSONB, Full-Text Search</p>
  <p style="margin-top:8px; font-family:'JetBrains Mono',monospace; font-size:0.75rem; color:#1e3a5f;">github.com/yourname/database-portfolio</p>
</div>

</body>
</html>
